{"version":3,"sources":["components/AdminStocksEditor/AdminStocksEditor.module.css","components/AdminStocksList/AdminStockListItem/AdminStocksListItem.module.css","components/AdminStocksList/AdminStocksList.module.css","redux/stocks/stocksOperations.js","redux/stocks/stocksSelector.js","components/AdminStocksEditor/utils.js","components/AdminStocksEditor/AdminStocksEditor.js","components/AdminStocksList/AdminStockListItem/AdminStocksListItem.js","components/AdminStocksList/AdminStocksList.js","pages/AdminStocksPage/AdminStocksPage.js"],"names":["module","exports","axios","defaults","baseURL","fetchStocks","dispatch","stocksActions","getStocksRequest","get","then","data","getStocksSuccess","promo","catch","error","getStocksError","sendStock","stock","sendStockRequest","post","sendStockSuccess","newPromo","sendStockError","updateStock","stockId","newStock","updateStockRequest","put","updateStockSuccess","updatedPromo","updateStockError","deleteStock","deleteStockRequest","delete","deleteStockSuccess","deletedPromo","_id","deleteStockError","sendFile","file","sendFileRequest","sendFileSuccess","image","sendFileError","getStockById","getStockByIdRequest","getStockByIdSuccess","getStockByIdError","state","stocks","items","fileLink","isLoading","item","getFileName","document","getElementById","value","replace","split","pop","innerHTML","mapDispatchToProps","onSubmitFile","stocksOperations","onSubmit","onCancel","cancelInput","onUpdate","connect","linkFile","stocksSelector","editStock","useState","stocksFile","setStockFile","stocksTitleEn","setStockTitleEn","stocksTitleRu","setStockTitleRu","stocksTitleUkr","setStockTitleUkr","stocksDescriptionEn","setStocksDescriptionEn","stocksDescriptionRu","setStocksDescriptionRu","stocksDescriptionUkr","setStocksDescriptionUkr","setStock","useEffect","images","title","en","description","ru","ukr","handleSubmit","e","preventDefault","target","name","reset","Spinner","className","styles","form","id","fileUploadGreen","fileUpload","uploadLabel","type","uploadInput","onChange","stocksItem","FormData","append","files","uploadSpan","fileName","placeholder","formInput","onClick","formButton","onRemove","stocksOperation","card","src","alt","cardImg","buttonContainer","button","window","scrollTo","handleClickOnChangeButton","onFetchStocks","elements","cardList","map","key","AdminStocksPage"],"mappings":"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","file":"static/js/15.c1b781a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"AdminStocksEditor_form__2ZL6u\",\"formInput\":\"AdminStocksEditor_formInput__3Z-js\",\"title\":\"AdminStocksEditor_title__dbFUr\",\"formButton\":\"AdminStocksEditor_formButton__7Bajw\",\"uploadInput\":\"AdminStocksEditor_uploadInput__1June\",\"fileUpload\":\"AdminStocksEditor_fileUpload__2Z4yn\",\"fileUploadGreen\":\"AdminStocksEditor_fileUploadGreen__6qGnh AdminStocksEditor_fileUpload__2Z4yn\",\"uploadLabel\":\"AdminStocksEditor_uploadLabel__23n8I\",\"uploadSpan\":\"AdminStocksEditor_uploadSpan__3NF2W\",\"fileName\":\"AdminStocksEditor_fileName__3UeXV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"AdminStocksListItem_card__1TXfi\",\"cardImg\":\"AdminStocksListItem_cardImg__20Hab\",\"title\":\"AdminStocksListItem_title__1OB2D\",\"description\":\"AdminStocksListItem_description__1a81e\",\"id\":\"AdminStocksListItem_id__1muNy\",\"buttonContainer\":\"AdminStocksListItem_buttonContainer__2aZrN\",\"button\":\"AdminStocksListItem_button__2w_uy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardList\":\"AdminStocksList_cardList__3b81E\"};","import axios from \"axios\";\r\nimport stocksActions from \"./stocksActions\";\r\n\r\nconst BASE_URL = \"https://evening-caverns-34846.herokuapp.com\";\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst fetchStocks = () => (dispatch) => {\r\n  dispatch(stocksActions.getStocksRequest());\r\n\r\n  axios\r\n    .get(\"/promo\")\r\n    .then(({ data }) => dispatch(stocksActions.getStocksSuccess(data.promo)))\r\n    .catch((error) => dispatch(stocksActions.getStocksError(error)));\r\n};\r\n\r\nconst sendFile = (file) => (dispatch) => {\r\n  dispatch(stocksActions.sendFileRequest());\r\n\r\n  axios\r\n    .post(\"/images\", file)\r\n    .then(({ data }) =>\r\n      dispatch(stocksActions.sendFileSuccess(data.image.file))\r\n    )\r\n    .catch((error) => dispatch(stocksActions.sendFileError(error)));\r\n};\r\n\r\nconst sendStock = (stock) => (dispatch) => {\r\n  dispatch(stocksActions.sendStockRequest());\r\n\r\n  axios\r\n    .post(\"/promo\", stock)\r\n    .then(({ data }) => dispatch(stocksActions.sendStockSuccess(data.newPromo)))\r\n    .catch((error) => dispatch(stocksActions.sendStockError(error)));\r\n};\r\n\r\nconst updateStock = (stockId, newStock) => (dispatch) => {\r\n  dispatch(stocksActions.updateStockRequest());\r\n\r\n  axios\r\n    .put(`/promo/${stockId}`, newStock)\r\n    .then(({ data }) =>\r\n      dispatch(stocksActions.updateStockSuccess(data.updatedPromo))\r\n    )\r\n    .catch((error) => dispatch(stocksActions.updateStockError(error)));\r\n};\r\n\r\nconst deleteStock = (stockId) => (dispatch) => {\r\n  dispatch(stocksActions.deleteStockRequest());\r\n\r\n  axios\r\n    .delete(`/promo/${stockId}`, stockId)\r\n    .then(({ data }) =>\r\n      dispatch(stocksActions.deleteStockSuccess(data.deletedPromo._id))\r\n    )\r\n    .catch((error) => dispatch(stocksActions.deleteStockError(error)));\r\n};\r\n\r\nconst getStockById = (stockId) => (dispatch) => {\r\n  dispatch(stocksActions.getStockByIdRequest());\r\n\r\n  axios\r\n    .get(`/promo/${stockId}`)\r\n    .then(({ data }) => dispatch(stocksActions.getStockByIdSuccess(data.promo)))\r\n    .catch((error) => dispatch(stocksActions.getStockByIdError(error)));\r\n};\r\n\r\nexport default {\r\n  fetchStocks,\r\n  sendStock,\r\n  updateStock,\r\n  deleteStock,\r\n  sendFile,\r\n  getStockById,\r\n};\r\n","const getStocks = (state) => state.stocks.items;\r\n\r\nconst getFileLink = (state) => state.stocks.fileLink;\r\n\r\nconst getLoading = (state) => state.stocks.isLoading;\r\n\r\nconst getItem = (state) => state.stocks.item;\r\n\r\nexport default { getStocks, getFileLink, getLoading, getItem };\r\n","function getFileName() {\r\n  let file = document.getElementById('uploadeFile').value;\r\n\r\n  file = file.replace(/\\\\/g, '/').split('/').pop();\r\n\r\n  document.getElementById('fileName').innerHTML = 'Имя файла: ' + file;\r\n}\r\nexport default getFileName;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { connect } from \"react-redux\";\r\nimport Spinner from \"../../components/Spinner\";\r\nimport stocksOperations from \"../../redux/stocks/stocksOperations\";\r\nimport stocksActions from \"../../redux/stocks/stocksActions\";\r\nimport stocksSelector from \"../../redux/stocks/stocksSelector\";\r\nimport styles from \"./AdminStocksEditor.module.css\";\r\n\r\nimport getFileName from \"./utils\";\r\n\r\nfunction AdminStocksEditor({\r\n  onSubmitFile,\r\n  onSubmit,\r\n  onUpdate,\r\n  onCancel,\r\n  isLoading,\r\n  linkFile,\r\n  editStock,\r\n}) {\r\n  const [stocksFile, setStockFile] = useState(null);\r\n  const handleLoadFile = ({ target }) => {\r\n    getFileName();\r\n    const stocksItem = new FormData();\r\n    stocksItem.append(\"file\", target.files[0]);\r\n\r\n    onSubmitFile(stocksItem);\r\n  };\r\n\r\n  const [stocksTitleEn, setStockTitleEn] = useState(\"\");\r\n\r\n  const handleChangeTitleEn = ({ target: { value } }) => setStockTitleEn(value);\r\n\r\n  const [stocksTitleRu, setStockTitleRu] = useState(\"\");\r\n  const handleChangeTitleRu = ({ target: { value } }) => setStockTitleRu(value);\r\n\r\n  const [stocksTitleUkr, setStockTitleUkr] = useState(\"\");\r\n  const handleChangeTitleUkr = ({ target: { value } }) =>\r\n    setStockTitleUkr(value);\r\n\r\n  const [stocksDescriptionEn, setStocksDescriptionEn] = useState(\"\");\r\n  const handleChangeDescriptionEn = ({ target: { value } }) =>\r\n    setStocksDescriptionEn(value);\r\n\r\n  const [stocksDescriptionRu, setStocksDescriptionRu] = useState(\"\");\r\n  const handleChangeDescriptionRu = ({ target: { value } }) =>\r\n    setStocksDescriptionRu(value);\r\n\r\n  const [stocksDescriptionUkr, setStocksDescriptionUkr] = useState(\"\");\r\n  const handleChangeDescriptionUkr = ({ target: { value } }) =>\r\n    setStocksDescriptionUkr(value);\r\n\r\n  const [stock, setStock] = useState(null);\r\n  useEffect(() => {\r\n    setStock(editStock);\r\n    if (editStock) {\r\n      setStockFile(editStock.images);\r\n      setStockTitleEn(editStock.title.en);\r\n      setStocksDescriptionEn(editStock.description.en);\r\n      setStockTitleRu(editStock.title.ru);\r\n      setStocksDescriptionRu(editStock.description.ru);\r\n      setStockTitleUkr(editStock.title.ukr);\r\n      setStocksDescriptionUkr(editStock.description.ukr);\r\n    }\r\n  }, [editStock]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const newStock = {\r\n      title: { en: stocksTitleEn, ru: stocksTitleRu, ukr: stocksTitleUkr },\r\n      description: {\r\n        en: stocksDescriptionEn,\r\n        ru: stocksDescriptionRu,\r\n        ukr: stocksDescriptionUkr,\r\n      },\r\n      images: linkFile,\r\n    };\r\n\r\n    if (e.target.name === \"update\") {\r\n      onUpdate(stock._id, newStock);\r\n      cancelInput();\r\n      return;\r\n    }\r\n\r\n    onSubmit(newStock);\r\n    cancelInput();\r\n  };\r\n\r\n  const cancelInput = () => {\r\n    setStockFile(null);\r\n    setStockTitleEn(\"\");\r\n    setStocksDescriptionEn(\"\");\r\n    setStockTitleRu(\"\");\r\n    setStocksDescriptionRu(\"\");\r\n    setStockTitleUkr(\"\");\r\n    setStocksDescriptionUkr(\"\");\r\n    document.getElementById(\"formStocks\").reset();\r\n\r\n    document.getElementById(\"fileName\").innerHTML = \"\";\r\n    onCancel();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <Spinner />}\r\n\r\n      <form className={styles.form} id=\"formStocks\">\r\n        <div className={linkFile ? styles.fileUploadGreen : styles.fileUpload}>\r\n          <label className={styles.uploadLabel}>\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"uploadeFile\"\r\n              className={styles.uploadInput}\r\n              onChange={handleLoadFile}\r\n            />\r\n            <span className={styles.uploadSpan}>\r\n              {stocksFile ? \"файл загружен\" : \"загрузить файл\"}\r\n            </span>\r\n          </label>\r\n        </div>\r\n        <div id=\"fileName\" className={styles.fileName}></div>\r\n        <div>\r\n          <h2 className={styles.title}>Название акции</h2>\r\n\r\n          <input\r\n            name=\"promoNameEn\"\r\n            id=\"promoNameEn\"\r\n            placeholder=\"Promo name on english\"\r\n            className={styles.formInput}\r\n            value={stocksTitleEn}\r\n            onChange={handleChangeTitleEn}\r\n          />\r\n\r\n          <input\r\n            name=\"promoNameRu\"\r\n            id=\"promoNameRu\"\r\n            placeholder=\"Название акции на русском\"\r\n            className={styles.formInput}\r\n            value={stocksTitleRu}\r\n            onChange={handleChangeTitleRu}\r\n          />\r\n\r\n          <input\r\n            name=\"promoNameUkr\"\r\n            id=\"promoNameUkr\"\r\n            placeholder=\"Назва акції українською\"\r\n            className={styles.formInput}\r\n            value={stocksTitleUkr}\r\n            onChange={handleChangeTitleUkr}\r\n          />\r\n        </div>\r\n        <div>\r\n          <h2 className={styles.title}>Описание акции</h2>\r\n\r\n          <input\r\n            name=\"promoDescriptionEn\"\r\n            id=\"promoDescriptionEn\"\r\n            placeholder=\"Promo description on english\"\r\n            className={styles.formInput}\r\n            value={stocksDescriptionEn}\r\n            onChange={handleChangeDescriptionEn}\r\n          />\r\n\r\n          <input\r\n            name=\"promoDescriptionRu\"\r\n            id=\"promoDescriptionRu\"\r\n            placeholder=\"Описание акции на русском\"\r\n            className={styles.formInput}\r\n            value={stocksDescriptionRu}\r\n            onChange={handleChangeDescriptionRu}\r\n          />\r\n\r\n          <input\r\n            name=\"promoDescriptionUkr\"\r\n            id=\"promoDescriptionUkr\"\r\n            placeholder=\"Назва акції українською\"\r\n            className={styles.formInput}\r\n            value={stocksDescriptionUkr}\r\n            onChange={handleChangeDescriptionUkr}\r\n          />\r\n        </div>\r\n\r\n        {linkFile && (\r\n          <button\r\n            type=\"submit\"\r\n            name=\"onSubmit\"\r\n            onClick={handleSubmit}\r\n            className={styles.formButton}\r\n          >\r\n            <FormattedMessage id=\"promo.send\" />\r\n          </button>\r\n        )}\r\n\r\n        {editStock && (\r\n          <button\r\n            type=\"submit\"\r\n            name=\"update\"\r\n            onClick={handleSubmit}\r\n            className={styles.formButton}\r\n          >\r\n            Обновить акцию\r\n          </button>\r\n        )}\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={cancelInput}\r\n          className={styles.formButton}\r\n        >\r\n          Очистить форму\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  linkFile: stocksSelector.getFileLink(state),\r\n  isLoading: stocksSelector.getLoading(state),\r\n  editStock: stocksSelector.getItem(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onSubmitFile: stocksOperations.sendFile,\r\n  onSubmit: stocksOperations.sendStock,\r\n  onCancel: stocksActions.cancelInput,\r\n  onUpdate: stocksOperations.updateStock,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminStocksEditor);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport stocksOperation from \"../../../redux/stocks/stocksOperations\";\r\nimport styles from \"./AdminStocksListItem.module.css\";\r\n\r\nfunction AdminStocksListItem({\r\n  images,\r\n  title,\r\n  description,\r\n  id,\r\n  onRemove,\r\n  onChange,\r\n}) {\r\n  const handleClickOnChangeButton = (id) => {\r\n    window.scrollTo(0, 0);\r\n    onChange(id);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      <h1 className={styles.title}>{title.en}</h1>\r\n      <p className={styles.description}>{description.en}</p>\r\n      <h1 className={styles.title}>{title.ru}</h1>\r\n      <p className={styles.description}>{description.ru}</p>\r\n      <h1 className={styles.title}>{title.ukr}</h1>\r\n      <p className={styles.description}>{description.ukr}</p>\r\n      <p className={styles.id}>ID: {id}</p>\r\n      <img src={images} alt={title} className={styles.cardImg} />\r\n      <div className={styles.buttonContainer}>\r\n        <button\r\n          type=\"button\"\r\n          className={styles.button}\r\n          onClick={() => onRemove(id)}\r\n        >\r\n          Удалить акцию\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          className={styles.button}\r\n          onClick={() => handleClickOnChangeButton(id)}\r\n        >\r\n          Изменить акцию\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onRemove: stocksOperation.deleteStock,\r\n  onChange: stocksOperation.getStockById,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(AdminStocksListItem);\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport AdminStockListItem from './AdminStockListItem';\r\nimport stocksOperations from '../../redux/stocks/stocksOperations';\r\nimport stocksSelector from '../../redux/stocks/stocksSelector';\r\nimport styles from './AdminStocksList.module.css';\r\n\r\nfunction AdminStocksList({ elements, onFetchStocks, onChange }) {\r\n  useEffect(() => {\r\n    onFetchStocks();\r\n  }, [onFetchStocks]);\r\n\r\n  return (\r\n    elements && (\r\n      <div className={styles.cardList}>\r\n        {elements.map(({ title, description, images, _id }) => (\r\n          <AdminStockListItem\r\n            onChange={onChange}\r\n            key={_id}\r\n            title={title}\r\n            description={description}\r\n            images={images}\r\n            id={_id}\r\n          />\r\n        ))}\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  elements: stocksSelector.getStocks(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onFetchStocks: stocksOperations.fetchStocks,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminStocksList);\r\n","import React from 'react';\r\nimport AdminStocksEditor from '../../components/AdminStocksEditor';\r\nimport AdminStocksList from '../../components/AdminStocksList';\r\n\r\nexport default function AdminStocksPage() {\r\n  return (\r\n    <>\r\n      <AdminStocksEditor />\r\n      <AdminStocksList />\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}