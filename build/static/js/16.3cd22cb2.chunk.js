(this.webpackJsonppizza_project=this.webpackJsonppizza_project||[]).push([[16],{174:function(e,t,n){"use strict";var a=n(7),r=n(176);t.a={fetchProducts:function(){return function(e){e(a.a.productsRequest()),Object(r.d)().then((function(t){var n=t.data;return e(a.a.productsSuccess(n.products))})).catch((function(t){return e(a.a.productsError(t))}))}},fetchProductsByCategory:function(e){return function(t){t(a.a.byCategoryRequest()),Object(r.f)(e).then((function(e){var n=e.data;return t(a.a.byCategorySuccess(n.products))})).catch((function(e){return t(a.a.byCategoryError(e))}))}},fetchProductById:function(e){return function(t){t(a.a.byIdRequest()),Object(r.e)(e).then((function(e){var n=e.data;return t(a.a.byIdSuccess(n.product))})).catch((function(e){return t(a.a.byIdErrror(e))}))}},sendFile:function(e){return function(t){t(a.a.sendFileRequest()),Object(r.g)(e).then((function(e){var n=e.data;return t(a.a.sendFileSuccess(n.image.file))})).catch((function(e){return t(a.a.sendFileError(e))}))}},sendProduct:function(e){return function(t){t(a.a.sendProductRequest()),Object(r.h)(e).then((function(e){var n=e.data;return t(a.a.sendProductSuccess(n.product))})).catch((function(e){return t(a.a.sendProductError(e))}))}},getIngredients:function(){return function(e){e(a.a.getAllIngradientsRequest()),Object(r.c)().then((function(t){var n=t.data;return e(a.a.getAllIngradientsSuccess(n.ingredients))})).catch((function(t){return e(a.a.getAllIngradientsError(t))}))}},updateProduct:function(e,t){return function(n){n(a.a.updateProductRequest()),Object(r.i)(e,t).then((function(e){return n(a.a.updateProductSuccess(e))})).catch((function(e){return n(a.a.updateProductError(e))}))}},deleteProduct:function(e){return function(t){t(a.a.deleteProductRequest()),Object(r.a)(e).then((function(e){var n=e.data;return t(a.a.deleteProductSuccess(n))})).catch((function(e){return t(a.a.deleteProductError(e))}))}}}},175:function(e,t,n){"use strict";t.a={getLoading:function(e){return e.products.loading},getProducts:function(e){return e.products.items},getFileLink:function(e){return e.products.fileLink},getIngradients:function(e){return e.products.ingradients},fileLink:function(e){return e.products.fileLink}}},176:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return b})),n.d(t,"a",(function(){return m}));var a=n(45),r=n.n(a),u=n(53),c=n(25),i=n.n(c),o="https://evening-caverns-34846.herokuapp.com",l=function(){return i.a.get("/products")},s=function(e){return i.a.get('/products/?category="'.concat(e,'"'))},d=function(e){return i.a.get("/products/".concat(e))},f=function(){var e=Object(u.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("".concat(o,"/ingredients")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){return i.a.post("".concat(o,"/products"),e)},b=function(e,t){return i.a.put("/products/".concat(e),t)},m=function(e){return i.a.delete("/products/".concat(e))},g=function(){var e=Object(u.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.abrupt("return",i.a.post("".concat(o,"/images"),n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function v(){return i.a.get("/developers")}},220:function(e,t,n){e.exports={createContainer:"CreateNewProduct_createContainer__3miQy",applyForm:"CreateNewProduct_applyForm__1bpSr",ingredientsContainer:"CreateNewProduct_ingredientsContainer__27jlA",ingredient:"CreateNewProduct_ingredient__3pWQa",select:"CreateNewProduct_select__6Q71N",inputLabel:"CreateNewProduct_inputLabel__2e9jl"}},241:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var a=n(45),r=n.n(a),u=n(53),c=n(48),i=n(43),o=n(0),l=n.n(o),s=n(11),d=n(220),f=n.n(d),p=n(94),b=n(175),m=n(174),g=n(76),v="pizza",h=[{value:v,label:"Pizza"},{value:"drinks",label:"Drinks"},{value:"sides",label:"Sides"},{value:"desserts",label:"Desserts"}],E=[{value:"classic",label:"Classic"},{value:"branded",label:"Branded"},{value:"premium",label:"Premium"}],j=function(){var e=Object(o.useState)(h[0]),t=Object(i.a)(e,2),n=t[0],a=t[1],d=Object(o.useState)(E[0]),j=Object(i.a)(d,2),O=j[0],y=j[1],C=Object(o.useState)(""),P=Object(i.a)(C,2),N=P[0],S=P[1],_=Object(o.useState)(""),k=Object(i.a)(_,2),L=k[0],w=k[1],x=Object(o.useState)(""),I=Object(i.a)(x,2),F=I[0],R=I[1],q=Object(o.useState)(""),z=Object(i.a)(q,2),D=z[0],A=z[1],B=Object(o.useState)(""),Q=Object(i.a)(B,2),J=Q[0],M=Q[1],X=Object(o.useState)(""),U=Object(i.a)(X,2),W=U[0],G=U[1],H=Object(o.useState)(""),K=Object(i.a)(H,2),T=K[0],V=K[1],Y=Object(o.useState)(""),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1],te=Object(o.useState)([]),ne=Object(i.a)(te,2),ae=ne[0],re=ne[1],ue=Object(s.d)(b.a.getIngradients),ce=Object(s.c)(),ie=Object(s.d)(b.a.fileLink),oe=function(e){return ce(m.a.sendProduct(e))},le=Object(s.d)(b.a.getProducts);Object(o.useEffect)((function(){ce(m.a.getIngredients())}),[ce]);var se=function(e){if(e.persist(),e.target.checked)return re((function(t){return[].concat(Object(c.a)(t),[e.target.value])}));re((function(t){return t.filter((function(t){return t!==e.target.value}))}))},de=function(){var e=Object(u.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.persist(),t.preventDefault(),a={categories:n.value,currency:"\u0433\u0440\u043d",images:ie,name:{ukr:N,en:L,ru:F},likes:0,sku:0,description:$},n.value===v?(a.ingredients=ae,a.subcategory=O.value,a.price={M:J,L:W,XL:T}):a.price={price:D},oe(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:f.a.createContainer},1===le.length&&l.a.createElement(g.a,{message:"\u0421\u043e\u0437\u0434\u0430\u043d \u043f\u0440\u043e\u0434\u0443\u043a\u0442",confirm:!0,forCard:!0}),l.a.createElement("form",{onSubmit:de,className:f.a.applyForm},l.a.createElement(p.a,{className:f.a.select,value:n,onChange:a,options:h}),l.a.createElement(p.a,{className:f.a.select,value:n.value===v?O:null,onChange:y,options:E,isDisabled:n.value!==v}),l.a.createElement("label",{className:f.a.inputLabel},l.a.createElement("h4",null,"Ukr Name"),l.a.createElement("input",{type:"text",value:N,onChange:function(e){return S(e.target.value)}})),l.a.createElement("label",{className:f.a.inputLabel},l.a.createElement("h4",null,"En Name"),l.a.createElement("input",{type:"text",value:L,onChange:function(e){return w(e.target.value)}})),l.a.createElement("label",{className:f.a.inputLabel},l.a.createElement("h4",null,"Ru Name"),l.a.createElement("input",{type:"text",value:F,onChange:function(e){return R(e.target.value)}})),n.value===v?l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:f.a.inputLabel},l.a.createElement("h4",null,"M"),l.a.createElement("input",{type:"text",value:J,onChange:function(e){return M(e.target.value)}})),l.a.createElement("label",{className:f.a.inputLabel},l.a.createElement("h4",null,"L"),l.a.createElement("input",{type:"text",value:W,onChange:function(e){return G(e.target.value)}})),l.a.createElement("label",{className:f.a.inputLabel},l.a.createElement("h4",null,"XL"),l.a.createElement("input",{type:"text",value:T,onChange:function(e){return V(e.target.value)}}))):l.a.createElement("label",{className:f.a.inputLabel},l.a.createElement("h4",null,"Price"),l.a.createElement("input",{type:"text",value:D,onChange:function(e){return A(e.target.value)}})),l.a.createElement("label",{className:f.a.inputLabel},l.a.createElement("h4",null,"Description"),l.a.createElement("input",{type:"text",value:$,onChange:function(e){return ee(e.target.value)}})),l.a.createElement("label",{className:f.a.inputLabel},l.a.createElement("h4",null,"Image"),l.a.createElement("input",{type:"file",id:"image",onChange:function(e){var t;e.persist(),e.preventDefault(),t=e.target.files[0],ce(m.a.sendFile(t))}})),l.a.createElement("div",{className:f.a.ingredientsContainer},n.value===v&&ue.map((function(e){return l.a.createElement("label",{key:e._id,className:f.a.ingredient},e.name.ru,l.a.createElement("input",{onClick:se,type:"checkbox",id:e._id,value:e._id}))}))),l.a.createElement("button",{type:"Submit"},"Send")))}}}]);
//# sourceMappingURL=16.3cd22cb2.chunk.js.map