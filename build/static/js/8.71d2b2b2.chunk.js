(this.webpackJsonppizza_project=this.webpackJsonppizza_project||[]).push([[8],{175:function(t,e,n){"use strict";var r=n(7),c=n(177);e.a={fetchProducts:function(){return function(t){t(r.a.productsRequest()),Object(c.f)().then((function(e){var n=e.data;return t(r.a.productsSuccess(n.products))})).catch((function(e){return t(r.a.productsError(e))}))}},fetchProductsByCategory:function(t){return function(e){e(r.a.byCategoryRequest()),Object(c.i)(t).then((function(t){var n=t.data;return e(r.a.byCategorySuccess(n.products))})).catch((function(t){return e(r.a.byCategoryError(t))}))}},fetchProductById:function(t){return function(e){e(r.a.byIdRequest()),Object(c.h)(t).then((function(t){var n=t.data;return e(r.a.byIdSuccess(n.product))})).catch((function(t){return e(r.a.byIdErrror(t))}))}},sendFile:function(t){return function(e){e(r.a.sendFileRequest()),Object(c.j)(t).then((function(t){var n=t.data;return e(r.a.sendFileSuccess(n.image.file))})).catch((function(t){return e(r.a.sendFileError(t))}))}},sendProduct:function(t){return function(e){e(r.a.sendProductRequest()),Object(c.k)(t).then((function(t){var n=t.data;return e(r.a.sendProductSuccess(n.product))})).catch((function(t){return e(r.a.sendProductError(t))}))}},getIngredients:function(){return function(t){t(r.a.getAllIngradientsRequest()),Object(c.e)().then((function(e){var n=e.data;return t(r.a.getAllIngradientsSuccess(n.ingredients))})).catch((function(e){return t(r.a.getAllIngradientsError(e))}))}},updateProduct:function(t,e){return function(n){n(r.a.updateProductRequest()),Object(c.o)(t,e).then((function(t){var e=t.data;return n(r.a.updateProductSuccess(e))})).catch((function(t){return n(r.a.updateProductError(t))}))}},deleteProduct:function(t){return function(e){e(r.a.deleteProductRequest()),Object(c.b)(t).then((function(t){var n=t.data;return e(r.a.deleteProductSuccess(n))})).catch((function(t){return e(r.a.deleteProductError(t))}))}},saveExistProdImg:function(t){return function(e){e(r.a.saveExistedImg(t))}}}},176:function(t,e,n){"use strict";e.a={getLoading:function(t){return t.products.loading},getError:function(t){return t.products.errorReducer},getProducts:function(t){return t.products.items},getFileLink:function(t){return t.products.fileLink},getIngradients:function(t){return t.products.ingradients},fileLink:function(t){return t.products.fileLink}}},177:function(t,e,n){"use strict";n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return p})),n.d(e,"k",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"f",(function(){return d})),n.d(e,"i",(function(){return m})),n.d(e,"h",(function(){return f})),n.d(e,"o",(function(){return _})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return k})),n.d(e,"m",(function(){return I})),n.d(e,"l",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"a",(function(){return E})),n.d(e,"g",(function(){return j}));var r=n(46),c=n.n(r),a=n(53),u=n(25),o=n.n(u),i=o.a.CancelToken.source(),s="https://evening-caverns-34846.herokuapp.com",d=function(){return o.a.get("/products")},m=function(t){return o.a.get('/products/?category="'.concat(t,'"'),{cancelToken:i.token})},f=function(t){return o.a.get("/products/".concat(t))},p=function(){var t=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.get("".concat(s,"/ingredients")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(t){return o.a.post("".concat(s,"/products"),t)},_=function(t,e){return o.a.put("/products/".concat(t),e)},g=function(t){return o.a.delete("/products/".concat(t))},h=function(){var t=Object(a.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.abrupt("return",o.a.post("".concat(s,"/images"),n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){return o.a.get("/developers")},k=function(){return o.a.get("/promo")},I=function(t){return o.a.post("/images",t)},v=function(t){return o.a.post("/promo",t)},y=function(t,e){return o.a.put("/promo/".concat(t),e)},E=function(t){return o.a.delete("/promo/".concat(t))},j=function(t){return o.a.get("/promo/".concat(t))}},178:function(t,e,n){"use strict";n(7);var r=n(175);n.d(e,"a",(function(){return r.a}));var c=n(176);n.d(e,"b",(function(){return c.a}));n(74)},181:function(t,e,n){t.exports={colors:'"../../stylesheet/vars.css"',accentColor:"#FF6C00",primaryColor:"#272727",secondaryBackgroundColor:"rgba(39, 39, 39, 0.2)",lightColor:"#FFF",primaryBackgroundColor:"rgba(39, 39, 39, 0.8)",menuItem:"drinkListItem_menuItem__2SLFd",menuItem_imageBlock:"drinkListItem_menuItem_imageBlock__36u3Z",menuItem_img:"drinkListItem_menuItem_img__10UE0",menuItem_content:"drinkListItem_menuItem_content__QgfFi",menuItem_headline:"drinkListItem_menuItem_headline__18h0n",menuItem_size:"drinkListItem_menuItem_size__LTygZ",menuItem_wrapper:"drinkListItem_menuItem_wrapper__3BBI_",currency:"drinkListItem_currency__1vYUG",menuItem_price:"drinkListItem_menuItem_price__1NDE4",button:"drinkListItem_button__27NUC"}},182:function(t,e,n){t.exports={colors:'"../../stylesheet/vars.css"',primaryColor:"#272727",containerList:"drinkList_containerList__2ENKW",menu:"drinkList_menu__2t04p",title:"drinkList_title__H8OkR"}},240:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return C}));var r=n(46),c=n.n(r),a=n(53),u=n(77),o=n(78),i=n(80),s=n(79),d=n(0),m=n.n(d),f=n(11),p=n(172),l=n(25),_=n.n(l),g=n(178),h=n(43),b=n(76),k=n(75),I=n(181),v=n.n(I),y=function(t){var e=t.name,n=t.description,r=t.price,u=t.images,o=Object(f.d)((function(t){return t.local.lang})),i=Object(f.c)(),s=m.a.createElement(p.a,{id:"order.success",values:{name:e[o]}}),l=m.a.createElement(p.a,{id:"order.error",values:{name:e[o]}}),_=Object(d.useState)(!1),g=Object(h.a)(_,2),I=g[0],y=g[1],E=Object(d.useState)(s),j=Object(h.a)(E,2),O=j[0],L=j[1],P=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=6;break}return y(!1),L(l),e.next=5,setTimeout((function(){return y(!0)}),10);case 5:return e.abrupt("return",e.sent);case 6:i(k.a.addProdToOrderList(t)),y(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m.a.createElement("li",{className:v.a.menuItem},I&&m.a.createElement(b.a,{message:O,confirm:!0,forCard:!0}),m.a.createElement("div",{className:v.a.menuItem_imageBlock},m.a.createElement("img",{src:u,alt:e[o],className:v.a.menuItem_img})),m.a.createElement("div",{className:v.a.menuItem_content},m.a.createElement("h2",{className:v.a.menuItem_headline},e[o]),m.a.createElement("p",{className:v.a.menuItem_size},m.a.createElement(p.a,{id:"volume"})," ",n),m.a.createElement("div",{className:v.a.menuItem_wrapper},m.a.createElement("p",{className:v.a.menuItem_price},"".concat(r.price,".00"),m.a.createElement("span",{className:v.a.currency},m.a.createElement(p.a,{id:"grn"}))),m.a.createElement("button",{className:v.a.button,type:"button",onClick:function(){return P()}},m.a.createElement(p.a,{id:"orders.chart"})))))},E=n(182),j=n.n(E),O=_.a.CancelToken.source(),L=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.props.onFetchProductDrinks("drinks")}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var t=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{O.cancel("Operation canceled")}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props.products;return m.a.createElement("div",{className:j.a.containerList},m.a.createElement("h2",{className:j.a.title},m.a.createElement(p.a,{id:"drinks"})),m.a.createElement("ul",{className:j.a.menu},t.map((function(t){return m.a.createElement(y,Object.assign({key:t._id},t))}))))}}]),n}(d.Component),P={onFetchProductDrinks:g.a.fetchProductsByCategory},C=Object(f.b)((function(t){return{products:g.b.getProducts(t)}}),P)(L)}}]);
//# sourceMappingURL=8.71d2b2b2.chunk.js.map