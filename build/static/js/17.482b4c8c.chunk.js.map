{"version":3,"sources":["components/UserProfile/ClientOrders.module.css","assets/img/user.svg","assets/img/mail.svg","components/UserProfile/ClientInfo.module.css","components/UserProfile/UserProfile.module.css","components/UserProfile/ClientOrders.js","components/UserProfile/ClientInfo.js","components/UserProfile/UserProfile.js","pages/UserPage/UserPage.js"],"names":["module","exports","ClientOrders","local","useSelector","state","lang","orders","authSelectors","getUserOrders","ordersList","map","item","key","_id","className","styles","orderDate","Date","createdAt","toLocaleDateString","productTitle","productsList","i","productName","productAmount","type","itemsCount","id","orderPrice","sumToPay","clientOrderContainer","clientOrderTitle","clientOrdersList","noOrdersText","ClientInfo","username","email","clientInfo","clienInfoTitle","clientInfoList","src","userIcon","alt","mailIcon","UserProfile","dispatch","useDispatch","getUserName","getUserId","getUserEmail","isAuthenticated","useEffect","authOperations","clientInfoContainer","to","orderBtnText","orderBtn","UserPage"],"mappings":"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","file":"static/js/17.482b4c8c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"variables\":\"'../../stylesheet/vars.css'\",\"accentColor\":\"#FF6C00\",\"primaryColor\":\"#272727\",\"lightColor\":\"#FFF\",\"secondaryTextFontSize\":\"1.25 rem\",\"thirdHeaderFontStyle\":\"1.88 rem\",\"borderColor\":\"rgba(39, 39, 39, 0.1)\",\"primaryTextColor\":\"rgba(0, 0, 0, 0.6)\",\"clientOrderTitle\":\"ClientOrders_clientOrderTitle__3jg5G\",\"orderDate\":\"ClientOrders_orderDate__37MC8\",\"productTitle\":\"ClientOrders_productTitle__2aQXO\",\"productAmount\":\"ClientOrders_productAmount__3ald2\",\"orderPrice\":\"ClientOrders_orderPrice__1aCbt\",\"noOrdersText\":\"ClientOrders_noOrdersText__1q6sW\",\"clientOrderContainer\":\"ClientOrders_clientOrderContainer__1Cos6\",\"clientOrdersList\":\"ClientOrders_clientOrdersList__hIrcB\"};","module.exports = __webpack_public_path__ + \"static/media/user.eefa8b66.svg\";","module.exports = __webpack_public_path__ + \"static/media/mail.b7412335.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"variables\":\"'../../stylesheet/vars.css'\",\"accentColor\":\"#FF6C00\",\"primaryColor\":\"#272727\",\"lightColor\":\"#FFF\",\"secondaryTextFontSize\":\"1.25 rem\",\"thirdHeaderFontStyle\":\"1.88 rem\",\"borderColor\":\"rgba(39, 39, 39, 0.1)\",\"primaryTextColor\":\"rgba(0, 0, 0, 0.6)\",\"clientInfo\":\"ClientInfo_clientInfo__2r1eP\",\"clienInfoTitle\":\"ClientInfo_clienInfoTitle__3Ko5k\",\"clientInfoList\":\"ClientInfo_clientInfoList__34PMS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"variables\":\"'../../stylesheet/vars.css'\",\"accentColor\":\"#FF6C00\",\"primaryColor\":\"#272727\",\"lightColor\":\"#FFF\",\"secondaryTextFontSize\":\"1.25 rem\",\"thirdHeaderFontStyle\":\"1.88 rem\",\"borderColor\":\"rgba(39, 39, 39, 0.1)\",\"primaryTextColor\":\"rgba(0, 0, 0, 0.6)\",\"clientInfoContainer\":\"UserProfile_clientInfoContainer__1kgNO\",\"orderBtn\":\"UserProfile_orderBtn__1wbx1\",\"orderBtnText\":\"UserProfile_orderBtnText__2de5y\"};","import React from \"react\";\r\nimport { authSelectors } from \"../../redux/auth\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\nimport styles from \"./ClientOrders.module.css\";\r\n\r\nexport const ClientOrders = () => {\r\n  const local = useSelector((state) => state.local.lang);\r\n  const orders = useSelector(authSelectors.getUserOrders);\r\n\r\n  const ordersList = orders.map((item) => (\r\n    <li key={item._id}>\r\n      <span className={styles.orderDate}>{new Date(item.createdAt).toLocaleDateString()}</span>\r\n      <div className={styles.productTitle}>\r\n        {item.productsList.map((i) => (\r\n          <div key={i._id}>\r\n            {i.productName[local]}{\" \"}\r\n            <span className={styles.productAmount}>\r\n              {i.type} - {i.itemsCount} <FormattedMessage id=\"q\" />\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <span className={styles.orderPrice}>\r\n        <FormattedMessage id=\"orders.sum\" /> {item.sumToPay}{\" \"}\r\n        <FormattedMessage id=\"grn\" />\r\n      </span>\r\n      <hr />\r\n    </li>\r\n  ));\r\n\r\n  return (\r\n    <>\r\n      {!orders ? (\r\n        <div>\r\n          <p className={styles.noOrdersText}>\r\n            <FormattedMessage id=\"orders.no\" />\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className={styles.clientOrderContainer}>\r\n          <h4 className={styles.clientOrderTitle}>\r\n            <FormattedMessage id=\"orders.history\" />\r\n          </h4>\r\n          <ul className={styles.clientOrdersList}>{ordersList}</ul>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\nimport userIcon from \"../../assets/img/user.svg\";\r\nimport mailIcon from \"../../assets/img/mail.svg\";\r\nimport styles from \"./ClientInfo.module.css\";\r\n\r\nexport const ClientInfo = ({ username, email }) => (\r\n  <div className={styles.clientInfo}>\r\n    <h3 className={styles.clienInfoTitle}>\r\n      <FormattedMessage id=\"welcome\" /> {username}!\r\n    </h3>\r\n    <ul className={styles.clientInfoList}>\r\n      <li>\r\n        <img src={userIcon} alt=\"user icon\" />\r\n        <span>{username}</span>\r\n      </li>\r\n      {email && email !== \"null\" && email !== \"undefined\" && (\r\n        <li>\r\n          <img src={mailIcon} alt=\"mail icon\" />\r\n          <span>{email}</span>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  </div>\r\n);\r\n","import React, { useEffect } from \"react\";\r\nimport { authSelectors, authOperations } from \"../../redux/auth\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\nimport { ClientOrders } from \"./ClientOrders\";\r\nimport { ClientInfo } from \"./ClientInfo\";\r\n\r\nimport styles from \"./UserProfile.module.css\";\r\n\r\n// GET \"https://evening-caverns-34846.herokuapp.com/users/id\"\r\n\r\n//const id = \"5e79e86a1005c628d790e8f0\";\r\n\r\nexport default function UserProfile() {\r\n  const dispatch = useDispatch();\r\n  const username = useSelector(authSelectors.getUserName);\r\n  const id = useSelector(authSelectors.getUserId);\r\n  const email = useSelector(authSelectors.getUserEmail);\r\n  const isAuthenticated = useSelector(authSelectors.isAuthenticated);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(authOperations.getUserOrders(id));\r\n    }\r\n  }, []);\r\n\r\n  if (!isAuthenticated) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.clientInfoContainer}>\r\n        {isAuthenticated && <ClientInfo username={username} email={email} />}\r\n        {isAuthenticated && <ClientOrders />}\r\n        <Link to=\"/pizza\" className={styles.orderBtnText}>\r\n          <div className={styles.orderBtn}>\r\n            <FormattedMessage id=\"new order\" />\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport UserProfile from \"../../components/UserProfile/UserProfile\";\r\n\r\nconst UserPage = () => {\r\n  return (\r\n    <div className=\"userPageContainer\">\r\n      <UserProfile />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n"],"sourceRoot":""}