(this.webpackJsonppizza_project=this.webpackJsonppizza_project||[]).push([[11],{177:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return S})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return d})),n.d(t,"o",(function(){return k})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return _})),n.d(t,"m",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return h})),n.d(t,"a",(function(){return N})),n.d(t,"g",(function(){return j}));var a=n(46),r=n.n(a),o=n(53),c=n(25),i=n.n(c),u=i.a.CancelToken.source(),s="https://evening-caverns-34846.herokuapp.com",l=function(){return i.a.get("/products")},m=function(e){return i.a.get('/products/?category="'.concat(e,'"'),{cancelToken:u.token})},d=function(e){return i.a.get("/products/".concat(e))},p=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("".concat(s,"/ingredients")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){return i.a.post("".concat(s,"/products"),e)},k=function(e,t){return i.a.put("/products/".concat(e),t)},E=function(e){return i.a.delete("/products/".concat(e))},S=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.abrupt("return",i.a.post("".concat(s,"/images"),n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){return i.a.get("/developers")},_=function(){return i.a.get("/promo")},g=function(e){return i.a.post("/images",e)},v=function(e){return i.a.post("/promo",e)},h=function(e,t){return i.a.put("/promo/".concat(e),t)},N=function(e){return i.a.delete("/promo/".concat(e))},j=function(e){return i.a.get("/promo/".concat(e))}},220:function(e,t,n){e.exports={form:"AdminStocksEditor_form__2ZL6u",formInput:"AdminStocksEditor_formInput__3Z-js",title:"AdminStocksEditor_title__dbFUr",formButton:"AdminStocksEditor_formButton__7Bajw",uploadInput:"AdminStocksEditor_uploadInput__1June",fileUpload:"AdminStocksEditor_fileUpload__2Z4yn",fileUploadGreen:"AdminStocksEditor_fileUploadGreen__6qGnh AdminStocksEditor_fileUpload__2Z4yn",uploadLabel:"AdminStocksEditor_uploadLabel__23n8I",uploadSpan:"AdminStocksEditor_uploadSpan__3NF2W",fileName:"AdminStocksEditor_fileName__3UeXV"}},221:function(e,t,n){e.exports={card:"AdminStocksListItem_card__1TXfi",descriptionContainer:"AdminStocksListItem_descriptionContainer__3SXDO",cardImg:"AdminStocksListItem_cardImg__20Hab",title:"AdminStocksListItem_title__1OB2D",description:"AdminStocksListItem_description__1a81e",buttonContainer:"AdminStocksListItem_buttonContainer__2aZrN",button:"AdminStocksListItem_button__2w_uy"}},222:function(e,t,n){e.exports={cardList:"AdminStocksList_cardList__3b81E"}},223:function(e,t,n){e.exports={container:"AdminStocksPage_container__1pHTm"}},234:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return U}));var a=n(0),r=n.n(a),o=n(43),c=n(172),i=n(11),u=n(47),s=n(76),l=n(9),m=n(177),d={fetchStocks:function(){return function(e){e(l.a.getStocksRequest()),Object(m.c)().then((function(t){var n=t.data;return e(l.a.getStocksSuccess(n.promo))})).catch((function(t){return e(l.a.getStocksError(t))}))}},sendStock:function(e){return function(t){t(l.a.sendStockRequest()),Object(m.l)(e).then((function(e){var n=e.data;return t(l.a.sendStockSuccess(n.newPromo))})).catch((function(e){return t(l.a.sendStockError(e))}))}},updateStock:function(e,t){return function(n){n(l.a.updateStockRequest()),Object(m.n)(e,t).then((function(e){var t=e.data;return n(l.a.updateStockSuccess(t.updatedPromo))})).catch((function(e){return n(l.a.updateStockError(e))}))}},deleteStock:function(e){return function(t){t(l.a.deleteStockRequest()),Object(m.a)(e).then((function(e){var n=e.data;return t(l.a.deleteStockSuccess(n.deletedPromo._id))})).catch((function(e){return t(l.a.deleteStockError(e))}))}},sendFile:function(e){return function(t){t(l.a.sendFileRequest()),Object(m.m)(e).then((function(e){var n=e.data;return t(l.a.sendFileSuccess(n.image.file))})).catch((function(e){return t(l.a.sendFileError(e))}))}},getStockById:function(e){return function(t){t(l.a.getStockByIdRequest()),Object(m.g)(e).then((function(e){var n=e.data;return t(l.a.getStockByIdSuccess(n.promo))})).catch((function(e){return t(l.a.getStockByIdError(e))}))}}},p=function(e){return e.stocks.items},f=function(e){return e.stocks.fileLink},k=function(e){return e.stocks.isLoading},E=function(e){return e.stocks.item},S=(n(83),n(220)),b=n.n(S);var _=function(){var e=document.getElementById("uploadeFile").value;e=e.replace(/\\/g,"/").split("/").pop(),document.getElementById("fileName").innerHTML="\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430: "+e};var g={onSubmitFile:d.sendFile,onSubmit:d.sendStock,onCancel:l.a.cancelInput,onUpdate:d.updateStock},v=Object(i.b)((function(e){return{linkFile:f(e),isLoading:k(e),editStock:E(e)}}),g)((function(e){var t=e.onSubmitFile,n=e.onSubmit,l=e.onUpdate,m=e.onCancel,d=e.isLoading,p=e.linkFile,f=e.editStock,k=Object(a.useState)(!1),E=Object(o.a)(k,2),S=E[0],g=E[1];Object(a.useEffect)((function(){S&&setTimeout((function(){g(!1)}),3e3)}),[S]),Object(i.d)((function(e){return e.local.lang}));var v=Object(a.useState)(null),h=Object(o.a)(v,2),N=h[0],j=h[1],O=Object(a.useState)(""),I=Object(o.a)(O,2),y=I[0],C=I[1],L=Object(a.useState)(""),A=Object(o.a)(L,2),F=A[0],B=A[1],U=Object(a.useState)(""),w=Object(o.a)(U,2),R=w[0],D=w[1],T=Object(a.useState)(""),q=Object(o.a)(T,2),x=q[0],P=q[1],z=Object(a.useState)(""),Z=Object(o.a)(z,2),G=Z[0],H=Z[1],J=Object(a.useState)(""),X=Object(o.a)(J,2),M=X[0],V=X[1],W=Object(a.useState)(null),K=Object(o.a)(W,2),Q=K[0],Y=K[1],$={success:"\u0410\u043a\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",updated:"\u0410\u043a\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",successFile:"\u0424\u0430\u0439\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"},ee=Object(a.useState)(null),te=Object(o.a)(ee,2),ne=te[0],ae=te[1];Object(a.useEffect)((function(){ae(f),f&&(j(f.images),C(f.title.en),P(f.description.en),B(f.title.ru),H(f.description.ru),D(f.title.ukr),V(f.description.ukr))}),[f]);var re=function(e){e.preventDefault();var t=p||ne.images,a={title:{en:y,ru:F,ukr:R},description:{en:x,ru:G,ukr:M},images:t};if("update"===e.target.name)return l(ne._id,a),oe(),Y($.updated),void g(!0);Y($.success),g(!0),n(a),oe()},oe=function(){j(null),C(""),P(""),B(""),H(""),D(""),V(""),document.getElementById("formStocks").reset(),document.getElementById("fileName").innerHTML="",m()};return r.a.createElement(r.a.Fragment,null,S&&r.a.createElement(s.a,{message:Q,confirm:!0}),d&&r.a.createElement(u.a,null),r.a.createElement("form",{className:b.a.form,id:"formStocks"},r.a.createElement("div",{className:p?b.a.fileUploadGreen:b.a.fileUpload},r.a.createElement("label",{className:b.a.uploadLabel},r.a.createElement("input",{type:"file",name:"file",id:"uploadeFile",className:b.a.uploadInput,onChange:function(e){var n=e.target;g(!0),_();var a=new FormData;a.append("file",n.files[0]),Y($.successFile),t(a)}}),r.a.createElement("span",{className:b.a.uploadSpan},N?r.a.createElement(c.a,{id:"file.uploaded"}):r.a.createElement(c.a,{id:"file.upload"})))),r.a.createElement("div",{id:"fileName",className:b.a.fileName}),r.a.createElement("div",null,r.a.createElement("h2",{className:b.a.title},r.a.createElement(c.a,{id:"promo.name"})),r.a.createElement("input",{name:"promoNameEn",id:"promoNameEn",placeholder:"Promo name on english",className:b.a.formInput,value:y,onChange:function(e){var t=e.target.value;return C(t)}}),r.a.createElement("input",{name:"promoNameRu",id:"promoNameRu",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",className:b.a.formInput,value:F,onChange:function(e){var t=e.target.value;return B(t)}}),r.a.createElement("input",{name:"promoNameUkr",id:"promoNameUkr",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u043a\u0446\u0456\u0457 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e",className:b.a.formInput,value:R,onChange:function(e){var t=e.target.value;return D(t)}})),r.a.createElement("div",null,r.a.createElement("h2",{className:b.a.title},r.a.createElement(c.a,{id:"promo.about"})),r.a.createElement("input",{name:"promoDescriptionEn",id:"promoDescriptionEn",placeholder:"Promo description on english",className:b.a.formInput,value:x,onChange:function(e){var t=e.target.value;return P(t)}}),r.a.createElement("input",{name:"promoDescriptionRu",id:"promoDescriptionRu",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",className:b.a.formInput,value:G,onChange:function(e){var t=e.target.value;return H(t)}}),r.a.createElement("input",{name:"promoDescriptionUkr",id:"promoDescriptionUkr",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u043a\u0446\u0456\u0457 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e",className:b.a.formInput,value:M,onChange:function(e){var t=e.target.value;return V(t)}})),p&&!f&&r.a.createElement("button",{type:"submit",name:"onSubmit",onClick:re,className:b.a.formButton},r.a.createElement(c.a,{id:"promo.send"})),f&&r.a.createElement("button",{type:"submit",name:"update",onClick:re,className:b.a.formButton},r.a.createElement(c.a,{id:"promo.refresh"})),r.a.createElement("button",{type:"button",onClick:oe,className:b.a.formButton},r.a.createElement(c.a,{id:"reset form"}))))})),h=n(188),N=n(221),j=n.n(N);var O={onRemove:d.deleteStock,onChange:d.getStockById},I=Object(i.b)(null,O)((function(e){var t=e.images,n=e.title,a=e.description,o=e.id,i=e.onRemove,u=e.onChange;return r.a.createElement("div",{className:j.a.card},r.a.createElement("div",{className:j.a.descriptionContainer},r.a.createElement(h.LazyLoadImage,{className:j.a.cardImg,src:t}),r.a.createElement("div",null,r.a.createElement("h1",{className:j.a.title},n.en),r.a.createElement("p",{className:j.a.description},a.en),r.a.createElement("h1",{className:j.a.title},n.ru),r.a.createElement("p",{className:j.a.description},a.ru),r.a.createElement("h1",{className:j.a.title},n.ukr),r.a.createElement("p",{className:j.a.description},a.ukr))),r.a.createElement("div",{className:j.a.buttonContainer},r.a.createElement("button",{type:"button",className:j.a.button,onClick:function(){return i(o)}},r.a.createElement(c.a,{id:"promo.delete"})),r.a.createElement("button",{type:"button",className:j.a.button,onClick:function(){return function(e){window.scrollTo(0,0),u(e)}(o)}},r.a.createElement(c.a,{id:"promo.change"}))))})),y=n(222),C=n.n(y);var L={onFetchStocks:d.fetchStocks},A=Object(i.b)((function(e){return{elements:p(e)}}),L)((function(e){var t=e.elements,n=e.onFetchStocks;return Object(a.useEffect)((function(){n()}),[n]),t&&r.a.createElement("div",{className:C.a.cardList},t.map((function(e){var t=e.title,n=e.description,a=e.images,o=e._id;return r.a.createElement(I,{key:o,title:t,description:n,images:a,id:o})})))})),F=n(223),B=n.n(F);function U(){return r.a.createElement("div",{className:B.a.container},r.a.createElement(v,null),r.a.createElement(A,null))}}}]);
//# sourceMappingURL=11.ca0db330.chunk.js.map