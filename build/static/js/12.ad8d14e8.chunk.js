(this.webpackJsonppizza_project=this.webpackJsonppizza_project||[]).push([[12],{176:function(e,t,n){"use strict";n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return k})),n.d(t,"k",(function(){return S})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return d})),n.d(t,"p",(function(){return E})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"m",(function(){return h})),n.d(t,"o",(function(){return N})),n.d(t,"b",(function(){return j})),n.d(t,"h",(function(){return O}));var a=n(46),r=n.n(a),o=n(53),c=n(25),u=n.n(c),i=u.a.CancelToken.source(),s="https://evening-caverns-34846.herokuapp.com",l=function(){return u.a.get("/products")},m=function(e){return u.a.get('/products/?category="'.concat(e,'"'),{cancelToken:i.token})},d=function(e){return u.a.get("/products/".concat(e))},p=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get("".concat(s,"/ingredients")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.post("".concat(s,"/ingredients"),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return u.a.post("".concat(s,"/products"),e)},E=function(e,t){return u.a.put("/products/".concat(e),t)},b=function(e){return u.a.delete("/products/".concat(e))},S=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.abrupt("return",u.a.post("".concat(s,"/images"),n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){return u.a.get("/developers")},g=function(){return u.a.get("/promo")},v=function(e){return u.a.post("/images",e)},h=function(e){return u.a.post("/promo",e)},N=function(e,t){return u.a.put("/promo/".concat(e),t)},j=function(e){return u.a.delete("/promo/".concat(e))},O=function(e){return u.a.get("/promo/".concat(e))}},223:function(e,t,n){e.exports={form:"AdminStocksEditor_form__2ZL6u",formInput:"AdminStocksEditor_formInput__3Z-js",title:"AdminStocksEditor_title__dbFUr",formButton:"AdminStocksEditor_formButton__7Bajw",uploadInput:"AdminStocksEditor_uploadInput__1June",fileUpload:"AdminStocksEditor_fileUpload__2Z4yn",fileUploadGreen:"AdminStocksEditor_fileUploadGreen__6qGnh AdminStocksEditor_fileUpload__2Z4yn",uploadLabel:"AdminStocksEditor_uploadLabel__23n8I",uploadSpan:"AdminStocksEditor_uploadSpan__3NF2W",fileName:"AdminStocksEditor_fileName__3UeXV"}},224:function(e,t,n){e.exports={card:"AdminStocksListItem_card__1TXfi",descriptionContainer:"AdminStocksListItem_descriptionContainer__3SXDO",cardImg:"AdminStocksListItem_cardImg__20Hab",title:"AdminStocksListItem_title__1OB2D",description:"AdminStocksListItem_description__1a81e",buttonContainer:"AdminStocksListItem_buttonContainer__2aZrN",button:"AdminStocksListItem_button__2w_uy"}},225:function(e,t,n){e.exports={cardList:"AdminStocksList_cardList__3b81E"}},226:function(e,t,n){e.exports={container:"AdminStocksPage_container__1pHTm"}},237:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var a=n(0),r=n.n(a),o=n(43),c=n(172),u=n(11),i=n(47),s=n(76),l=n(9),m=n(176),d={fetchStocks:function(){return function(e){e(l.a.getStocksRequest()),Object(m.d)().then((function(t){var n=t.data;return e(l.a.getStocksSuccess(n.promo))})).catch((function(t){return e(l.a.getStocksError(t))}))}},sendStock:function(e){return function(t){t(l.a.sendStockRequest()),Object(m.m)(e).then((function(e){var n=e.data;return t(l.a.sendStockSuccess(n.newPromo))})).catch((function(e){return t(l.a.sendStockError(e))}))}},updateStock:function(e,t){return function(n){n(l.a.updateStockRequest()),Object(m.o)(e,t).then((function(e){var t=e.data;return n(l.a.updateStockSuccess(t.updatedPromo))})).catch((function(e){return n(l.a.updateStockError(e))}))}},deleteStock:function(e){return function(t){t(l.a.deleteStockRequest()),Object(m.b)(e).then((function(e){var n=e.data;return t(l.a.deleteStockSuccess(n.deletedPromo._id))})).catch((function(e){return t(l.a.deleteStockError(e))}))}},sendFile:function(e){return function(t){t(l.a.sendFileRequest()),Object(m.n)(e).then((function(e){var n=e.data;return t(l.a.sendFileSuccess(n.image.file))})).catch((function(e){return t(l.a.sendFileError(e))}))}},getStockById:function(e){return function(t){t(l.a.getStockByIdRequest()),Object(m.h)(e).then((function(e){var n=e.data;return t(l.a.getStockByIdSuccess(n.promo))})).catch((function(e){return t(l.a.getStockByIdError(e))}))}}},p=function(e){return e.stocks.items},f=function(e){return e.stocks.fileLink},k=function(e){return e.stocks.isLoading},E=function(e){return e.stocks.item},b=(n(84),n(223)),S=n.n(b);var _=function(){var e=document.getElementById("uploadeFile").value;e=e.replace(/\\/g,"/").split("/").pop(),document.getElementById("fileName").innerHTML="\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430: "+e};var g={onSubmitFile:d.sendFile,onSubmit:d.sendStock,onCancel:l.a.cancelInput,onUpdate:d.updateStock},v=Object(u.b)((function(e){return{linkFile:f(e),isLoading:k(e),editStock:E(e)}}),g)((function(e){var t=e.onSubmitFile,n=e.onSubmit,l=e.onUpdate,m=e.onCancel,d=e.isLoading,p=e.linkFile,f=e.editStock,k=Object(a.useState)(!1),E=Object(o.a)(k,2),b=E[0],g=E[1];Object(a.useEffect)((function(){b&&setTimeout((function(){g(!1)}),3e3)}),[b]),Object(u.d)((function(e){return e.local.lang}));var v=Object(a.useState)(null),h=Object(o.a)(v,2),N=h[0],j=h[1],O=Object(a.useState)(""),I=Object(o.a)(O,2),y=I[0],C=I[1],L=Object(a.useState)(""),A=Object(o.a)(L,2),F=A[0],B=A[1],w=Object(a.useState)(""),U=Object(o.a)(w,2),R=U[0],D=U[1],T=Object(a.useState)(""),q=Object(o.a)(T,2),x=q[0],P=q[1],z=Object(a.useState)(""),Z=Object(o.a)(z,2),G=Z[0],H=Z[1],J=Object(a.useState)(""),X=Object(o.a)(J,2),M=X[0],V=X[1],W=Object(a.useState)(null),K=Object(o.a)(W,2),Q=K[0],Y=K[1],$={success:"\u0410\u043a\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",updated:"\u0410\u043a\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",successFile:"\u0424\u0430\u0439\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"},ee=Object(a.useState)(null),te=Object(o.a)(ee,2),ne=te[0],ae=te[1];Object(a.useEffect)((function(){ae(f),f&&(j(f.images),C(f.title.en),P(f.description.en),B(f.title.ru),H(f.description.ru),D(f.title.ukr),V(f.description.ukr))}),[f]);var re=function(e){e.preventDefault();var t=p||ne.images,a={title:{en:y,ru:F,ukr:R},description:{en:x,ru:G,ukr:M},images:t};if("update"===e.target.name)return l(ne._id,a),oe(),Y($.updated),void g(!0);Y($.success),g(!0),n(a),oe()},oe=function(){j(null),C(""),P(""),B(""),H(""),D(""),V(""),document.getElementById("formStocks").reset(),document.getElementById("fileName").innerHTML="",m()};return r.a.createElement(r.a.Fragment,null,b&&r.a.createElement(s.a,{message:Q,confirm:!0}),d&&r.a.createElement(i.a,null),r.a.createElement("form",{className:S.a.form,id:"formStocks"},r.a.createElement("div",{className:p?S.a.fileUploadGreen:S.a.fileUpload},r.a.createElement("label",{className:S.a.uploadLabel},r.a.createElement("input",{type:"file",name:"file",id:"uploadeFile",className:S.a.uploadInput,onChange:function(e){var n=e.target;g(!0),_();var a=new FormData;a.append("file",n.files[0]),Y($.successFile),t(a)}}),r.a.createElement("span",{className:S.a.uploadSpan},N?r.a.createElement(c.a,{id:"file.uploaded"}):r.a.createElement(c.a,{id:"file.upload"})))),r.a.createElement("div",{id:"fileName",className:S.a.fileName}),r.a.createElement("div",null,r.a.createElement("h2",{className:S.a.title},r.a.createElement(c.a,{id:"promo.name"})),r.a.createElement("input",{name:"promoNameEn",id:"promoNameEn",placeholder:"Promo name on english",className:S.a.formInput,value:y,onChange:function(e){var t=e.target.value;return C(t)}}),r.a.createElement("input",{name:"promoNameRu",id:"promoNameRu",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",className:S.a.formInput,value:F,onChange:function(e){var t=e.target.value;return B(t)}}),r.a.createElement("input",{name:"promoNameUkr",id:"promoNameUkr",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u043a\u0446\u0456\u0457 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e",className:S.a.formInput,value:R,onChange:function(e){var t=e.target.value;return D(t)}})),r.a.createElement("div",null,r.a.createElement("h2",{className:S.a.title},r.a.createElement(c.a,{id:"promo.about"})),r.a.createElement("input",{name:"promoDescriptionEn",id:"promoDescriptionEn",placeholder:"Promo description on english",className:S.a.formInput,value:x,onChange:function(e){var t=e.target.value;return P(t)}}),r.a.createElement("input",{name:"promoDescriptionRu",id:"promoDescriptionRu",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",className:S.a.formInput,value:G,onChange:function(e){var t=e.target.value;return H(t)}}),r.a.createElement("input",{name:"promoDescriptionUkr",id:"promoDescriptionUkr",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u043a\u0446\u0456\u0457 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e",className:S.a.formInput,value:M,onChange:function(e){var t=e.target.value;return V(t)}})),p&&!f&&r.a.createElement("button",{type:"submit",name:"onSubmit",onClick:re,className:S.a.formButton},r.a.createElement(c.a,{id:"promo.send"})),f&&r.a.createElement("button",{type:"submit",name:"update",onClick:re,className:S.a.formButton},r.a.createElement(c.a,{id:"promo.refresh"})),r.a.createElement("button",{type:"button",onClick:oe,className:S.a.formButton},r.a.createElement(c.a,{id:"reset form"}))))})),h=n(180),N=n(224),j=n.n(N);var O={onRemove:d.deleteStock,onChange:d.getStockById},I=Object(u.b)(null,O)((function(e){var t=e.images,n=e.title,a=e.description,o=e.id,u=e.onRemove,i=e.onChange;return r.a.createElement("div",{className:j.a.card},r.a.createElement("div",{className:j.a.descriptionContainer},r.a.createElement(h.LazyLoadImage,{className:j.a.cardImg,src:t}),r.a.createElement("div",null,r.a.createElement("h1",{className:j.a.title},n.en),r.a.createElement("p",{className:j.a.description},a.en),r.a.createElement("h1",{className:j.a.title},n.ru),r.a.createElement("p",{className:j.a.description},a.ru),r.a.createElement("h1",{className:j.a.title},n.ukr),r.a.createElement("p",{className:j.a.description},a.ukr))),r.a.createElement("div",{className:j.a.buttonContainer},r.a.createElement("button",{type:"button",className:j.a.button,onClick:function(){return u(o)}},r.a.createElement(c.a,{id:"promo.delete"})),r.a.createElement("button",{type:"button",className:j.a.button,onClick:function(){return function(e){window.scrollTo(0,0),i(e)}(o)}},r.a.createElement(c.a,{id:"promo.change"}))))})),y=n(225),C=n.n(y);var L={onFetchStocks:d.fetchStocks},A=Object(u.b)((function(e){return{elements:p(e)}}),L)((function(e){var t=e.elements,n=e.onFetchStocks;return Object(a.useEffect)((function(){n()}),[n]),t&&r.a.createElement("div",{className:C.a.cardList},t.map((function(e){var t=e.title,n=e.description,a=e.images,o=e._id;return r.a.createElement(I,{key:o,title:t,description:n,images:a,id:o})})))})),F=n(226),B=n.n(F);function w(){return r.a.createElement("div",{className:B.a.container},r.a.createElement(v,null),r.a.createElement(A,null))}}}]);
//# sourceMappingURL=12.ad8d14e8.chunk.js.map