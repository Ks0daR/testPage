(this.webpackJsonppizza_project=this.webpackJsonppizza_project||[]).push([[19],{188:function(e,t,a){e.exports={container:"adminUpdateListItemEdit_container__3HLuE",editCard:"adminUpdateListItemEdit_editCard__21bL0",editCard__image:"adminUpdateListItemEdit_editCard__image__3bGof",editForm:"adminUpdateListItemEdit_editForm__b5-qw",editCard__title:"adminUpdateListItemEdit_editCard__title__3FVGH",editCard__titleName:"adminUpdateListItemEdit_editCard__titleName__1ZB1V",editCard__titleLang:"adminUpdateListItemEdit_editCard__titleLang__3A86I",editForm__inputLang:"adminUpdateListItemEdit_editForm__inputLang__3aBBj",editCard__photoLabel:"adminUpdateListItemEdit_editCard__photoLabel__3AqSD",editForm__photo:"adminUpdateListItemEdit_editForm__photo__4go7p",editForm__photoBtn:"adminUpdateListItemEdit_editForm__photoBtn__1ruwQ",editForm__inputCategory:"adminUpdateListItemEdit_editForm__inputCategory__2OUAK",editForm__ingredientsSelect:"adminUpdateListItemEdit_editForm__ingredientsSelect__3EQkl",editForm__ingredient:"adminUpdateListItemEdit_editForm__ingredient__158s2",editForm__ingredientName:"adminUpdateListItemEdit_editForm__ingredientName__2-5zy",editForm__ingredientsList:"adminUpdateListItemEdit_editForm__ingredientsList__1zUdX",editForm__addIngredientBtn:"adminUpdateListItemEdit_editForm__addIngredientBtn__1uTV_",editForm__ingredientBtnDel:"adminUpdateListItemEdit_editForm__ingredientBtnDel__3l5GB",editForm__ingredientBtnDelImage:"adminUpdateListItemEdit_editForm__ingredientBtnDelImage__2hey5",editForm__price:"adminUpdateListItemEdit_editForm__price__3l36G",editForm__priceInput:"adminUpdateListItemEdit_editForm__priceInput__2BURD",editForm__inputSinglePrice:"adminUpdateListItemEdit_editForm__inputSinglePrice__DZQgv",editForm__priceTitle:"adminUpdateListItemEdit_editForm__priceTitle__7VoSo",editForm__inputDescription:"adminUpdateListItemEdit_editForm__inputDescription__3l4iF",editForm__btnSubmit:"adminUpdateListItemEdit_editForm__btnSubmit__1COXz",confirmation:"adminUpdateListItemEdit_confirmation__1Kgwu",confirmation__form:"adminUpdateListItemEdit_confirmation__form__1Ci1y",confirmation__formText:"adminUpdateListItemEdit_confirmation__formText__3uwty",confirmation__formBtnLink:"adminUpdateListItemEdit_confirmation__formBtnLink__1RKal",confirmation__formBtn:"adminUpdateListItemEdit_confirmation__formBtn__1R00J"}},240:function(e,t,a){"use strict";a.r(t);var i=a(16),n=a(48),r=a(43),m=a(0),d=a.n(m),c=a(11),_=a(171),o=a(18),l=a(12),s=a(188),u=a.n(s),p=function(e){var t=e.confirmMassage;return d.a.createElement("div",{className:u.a.confirmation},d.a.createElement("div",{className:u.a.confirmation__form},d.a.createElement("p",{className:u.a.confirmation__formText},t),d.a.createElement(l.b,{to:"/admin/update-product",className:u.a.confirmation__formBtnLink},d.a.createElement("button",{type:"button",className:u.a.confirmation__formBtn},d.a.createElement(_.a,{id:"return back"})))))},g=a(46),E=a(25),f=a.n(E),b=a(44);t.default=function(){var e=Object(o.h)().state.product,t=Object(c.d)((function(e){return e.local.lang})),a=Object(m.useState)(!0),l=Object(r.a)(a,2),s=l[0],E=l[1],F=Object(m.useState)(!1),L=Object(r.a)(F,2),h=L[0],N=L[1],v=Object(m.useState)(e.images),C=Object(r.a)(v,2),j=C[0],I=C[1],O=Object(m.useState)(e.name.ru),U=Object(r.a)(O,2),y=U[0],S=U[1],B=Object(m.useState)(e.name.en),k=Object(r.a)(B,2),D=k[0],x=k[1],z=Object(m.useState)(e.name.ukr),T=Object(r.a)(z,2),w=T[0],M=T[1],X=Object(m.useState)(e.categories),G=Object(r.a)(X,2),V=G[0],A=G[1],J=Object(m.useState)(e.subcategory),K=Object(r.a)(J,2),P=K[0],Q=K[1],R=Object(m.useState)(e.price.price),q=Object(r.a)(R,2),H=q[0],Z=q[1],W=Object(m.useState)({}),Y=Object(r.a)(W,2),$=Y[0],ee=Y[1],te=Object(m.useState)(e.price.M),ae=Object(r.a)(te,2),ie=ae[0],ne=ae[1],re=Object(m.useState)(e.price.L),me=Object(r.a)(re,2),de=me[0],ce=me[1],_e=Object(m.useState)(e.price.XL),oe=Object(r.a)(_e,2),le=oe[0],se=oe[1],ue=Object(m.useState)(Object(n.a)(e.ingredients)),pe=Object(r.a)(ue,2),ge=pe[0],Ee=pe[1],fe=Object(m.useState)(0),be=Object(r.a)(fe,2),Fe=be[0],Le=be[1],he=Object(m.useState)(null),Ne=Object(r.a)(he,2),ve=Ne[0],Ce=Ne[1],je=Object(m.useState)(e.description),Ie=Object(r.a)(je,2),Oe=Ie[0],Ue=Ie[1];Object(m.useEffect)((function(){f.a.get("https://evening-caverns-34846.herokuapp.com/ingredients").then((function(e){Ce(e.data.ingredients)})).catch((function(e){return console.log(e)}))}),[]),Object(m.useEffect)((function(){ee("pizza"===V?{M:ie,L:de,XL:le}:{price:H})}),[ie,de,le,V,H]);var ye=function(e){e.preventDefault();var t=ge.findIndex((function(t){return t._id===e.target.dataset.id}));ge.splice(t,1),Ee(Object(n.a)(ge))};return d.a.createElement("div",{className:u.a.container},s?d.a.createElement("div",{className:u.a.editCard},d.a.createElement("img",{src:j,alt:e.closeUpImages,className:u.a.editCard__image}),d.a.createElement("form",{id:"editForm",onSubmit:function(a){a.preventDefault(),E(!1);var n={ru:y,ukr:w,en:D},r=Object(i.a)(Object(i.a)({},e),{},{images:j,price:$,name:n,categories:V,subcategory:P,ingredients:ge,description:Oe});f.a.put("https://evening-caverns-34846.herokuapp.com/products/".concat(e._id),r).then((function(e){E(!0),N(b.a[t]["edit.ok"])})).catch((function(e){E(!0),console.log(e),N(b.a[t]["edit.error"])}))},className:u.a.editForm},d.a.createElement("h4",{className:u.a.editCard__title},d.a.createElement(_.a,{id:"photo"})),d.a.createElement("label",{className:u.a.editCard__photoLabel},d.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){e.preventDefault(),E(!1);var a=new FormData,i=e.target.files[0];a.append("file",i),f.a.post("https://evening-caverns-34846.herokuapp.com/images",a).then((function(e){I(e.data.image.file),E(!0)})).catch((function(e){E(!0),console.log(e),N(b.a[t]["edit.error"])}))},className:u.a.editForm__photo}),d.a.createElement("p",{className:u.a.editForm__photoBtn},d.a.createElement(_.a,{id:"upload"}))),d.a.createElement("h4",{className:u.a.editCard__title},d.a.createElement(_.a,{id:"product.name"})),d.a.createElement("div",{className:u.a.editCard__titleName},d.a.createElement("p",{className:u.a.editCard__titleLang},"ru"),d.a.createElement("input",{type:"text",value:y,onChange:function(e){return S(e.target.value)},className:u.a.editForm__inputLang}),d.a.createElement("p",{className:u.a.editCard__titleLang},"en"),d.a.createElement("input",{type:"text",value:D,onChange:function(e){return x(e.target.value)},className:u.a.editForm__inputLang}),d.a.createElement("p",{className:u.a.editCard__titleLang},"ukr"),d.a.createElement("input",{type:"text",value:w,onChange:function(e){return M(e.target.value)},className:u.a.editForm__inputLang})),d.a.createElement("h4",{className:u.a.editCard__title},d.a.createElement(_.a,{id:"product.category"})),d.a.createElement("input",{type:"text",value:V,onChange:function(e){return A(e.target.value)},className:u.a.editForm__inputCategory}),"pizza"===V&&d.a.createElement(d.a.Fragment,null,d.a.createElement("h4",{className:u.a.editCard__title},d.a.createElement(_.a,{id:"product.subcategory"})),d.a.createElement("input",{type:"text",value:P,onChange:function(e){return Q(e.target.value)},className:u.a.editForm__inputCategory})),d.a.createElement("h4",{className:u.a.editCard__title},d.a.createElement(_.a,{id:"update.composition"})),d.a.createElement("ul",{className:u.a.editForm__ingredients},ge.map((function(e,a){return d.a.createElement("li",{key:a,className:u.a.editForm__ingredient},d.a.createElement("span",{className:u.a.editForm__ingredientName},e.name[t]),d.a.createElement("button",{type:"button",onClick:ye,"data-id":e._id,className:u.a.editForm__ingredientBtnDel},d.a.createElement("img",{src:"/static/media/remove_order_item_button.56fe91b0.svg",alt:"del",className:u.a.editForm__ingredientBtnDelImage})))}))),d.a.createElement("h4",{className:u.a.editCard__title},d.a.createElement(_.a,{id:"update.addIngredient"})),d.a.createElement("label",{className:u.a.editForm__ingredientsSelect},d.a.createElement("select",{value:Fe,className:u.a.editForm__ingredientsList,onChange:function(e){return Le(e.target.value)}},ve&&ve.map((function(e,a){return d.a.createElement("option",{key:e._id,value:a},e.name[t])}))),d.a.createElement("button",{type:"button",onClick:function(){return Ee([].concat(Object(n.a)(ge),[ve[Fe]]))},className:u.a.editForm__addIngredientBtn},d.a.createElement(_.a,{id:"update.addToComposition"}))),d.a.createElement("h4",{className:u.a.editCard__title},d.a.createElement(_.a,{id:"product.price"})),"pizza"===V?d.a.createElement("div",{className:u.a.editForm__price},d.a.createElement("h4",{className:u.a.editForm__priceTitle},"M"),d.a.createElement("input",{type:"text",value:ie,onChange:function(e){return ne(e.target.value)},className:u.a.editForm__priceInput}),d.a.createElement("h4",{className:u.a.editForm__priceTitle},"L"),d.a.createElement("input",{type:"text",value:de,onChange:function(e){return ce(e.target.value)},className:u.a.editForm__priceInput}),d.a.createElement("h4",{className:u.a.editForm__priceTitle},"XL"),d.a.createElement("input",{type:"text",value:le,onChange:function(e){return se(e.target.value)},className:u.a.editForm__priceInput})):d.a.createElement(d.a.Fragment,null,d.a.createElement("input",{type:"text",value:H,onChange:function(e){return Z(e.target.value)},className:u.a.editForm__inputSinglePrice}),d.a.createElement("p",{className:u.a.editCard__title},d.a.createElement(_.a,{id:"product.description"})),d.a.createElement("input",{type:"text",value:Oe,onChange:function(e){return Ue(e.target.value)},className:u.a.editForm__inputDescription}))),d.a.createElement("button",{form:"editForm",type:"submit",name:"complete",className:u.a.editForm__btnSubmit},d.a.createElement(_.a,{id:"update.saveChanges"})),d.a.createElement("button",{form:"editForm",type:"submit",name:"delete",className:u.a.editForm__btnSubmit,onClick:function(a){a.preventDefault(),E(!1),f.a.delete("https://evening-caverns-34846.herokuapp.com/products/".concat(e._id)).then((function(e){E(!0),console.log(e)})).catch((function(e){E(!0),console.log(e),N(b.a[t]["edit.error"])}))}},d.a.createElement(_.a,{id:"delete product"})),d.a.createElement("div",{onClick:function(){return N(!1)}},h&&d.a.createElement(p,{confirmMassage:h}))):d.a.createElement(g.a,null))}}}]);
//# sourceMappingURL=19.d6dbba70.chunk.js.map