(this.webpackJsonppizza_project=this.webpackJsonppizza_project||[]).push([[4,7],{175:function(e,t,n){"use strict";var r=n(7),a=n(177);t.a={fetchProducts:function(){return function(e){e(r.a.productsRequest()),Object(a.f)().then((function(t){var n=t.data;return e(r.a.productsSuccess(n.products))})).catch((function(t){return e(r.a.productsError(t))}))}},fetchProductsByCategory:function(e){return function(t){t(r.a.byCategoryRequest()),Object(a.i)(e).then((function(e){var n=e.data;return t(r.a.byCategorySuccess(n.products))})).catch((function(e){return t(r.a.byCategoryError(e))}))}},fetchProductById:function(e){return function(t){t(r.a.byIdRequest()),Object(a.h)(e).then((function(e){var n=e.data;return t(r.a.byIdSuccess(n.product))})).catch((function(e){return t(r.a.byIdErrror(e))}))}},sendFile:function(e){return function(t){t(r.a.sendFileRequest()),Object(a.j)(e).then((function(e){var n=e.data;return t(r.a.sendFileSuccess(n.image.file))})).catch((function(e){return t(r.a.sendFileError(e))}))}},sendProduct:function(e){return function(t){t(r.a.sendProductRequest()),Object(a.k)(e).then((function(e){var n=e.data;return t(r.a.sendProductSuccess(n.product))})).catch((function(e){return t(r.a.sendProductError(e))}))}},getIngredients:function(){return function(e){e(r.a.getAllIngradientsRequest()),Object(a.e)().then((function(t){var n=t.data;return e(r.a.getAllIngradientsSuccess(n.ingredients))})).catch((function(t){return e(r.a.getAllIngradientsError(t))}))}},updateProduct:function(e,t){return function(n){n(r.a.updateProductRequest()),Object(a.o)(e,t).then((function(e){return n(r.a.updateProductSuccess(e))})).catch((function(e){return n(r.a.updateProductError(e))}))}},deleteProduct:function(e){return function(t){t(r.a.deleteProductRequest()),Object(a.b)(e).then((function(e){var n=e.data;return t(r.a.deleteProductSuccess(n))})).catch((function(e){return t(r.a.deleteProductError(e))}))}},saveExistProdImg:function(e){return function(t){t(r.a.saveExistedImg(e))}}}},176:function(e,t,n){"use strict";t.a={getLoading:function(e){return e.products.loading},getError:function(e){return e.products.errorReducer},getProducts:function(e){return e.products.items},getFileLink:function(e){return e.products.fileLink},getIngradients:function(e){return e.products.ingradients},fileLink:function(e){return e.products.fileLink}}},177:function(e,t,n){"use strict";n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return _})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"o",(function(){return z})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"m",(function(){return v})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return P})),n.d(t,"a",(function(){return L})),n.d(t,"g",(function(){return y}));var r=n(45),a=n.n(r),c=n(53),i=n(25),u=n.n(i),o=u.a.CancelToken.source(),s="https://evening-caverns-34846.herokuapp.com",l=function(){return u.a.get("/products")},d=function(e){return u.a.get('/products/?category="'.concat(e,'"'),{cancelToken:o.token})},p=function(e){return u.a.get("/products/".concat(e))},m=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get("".concat(s,"/ingredients")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){return u.a.post("".concat(s,"/products"),e)},z=function(e,t){return u.a.put("/products/".concat(e),t)},g=function(e){return u.a.delete("/products/".concat(e))},_=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.abrupt("return",u.a.post("".concat(s,"/images"),n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){return u.a.get("/developers")},b=function(){return u.a.get("/promo")},v=function(e){return u.a.post("/images",e)},h=function(e){return u.a.post("/promo",e)},P=function(e,t){return u.a.put("/promo/".concat(e),t)},L=function(e){return u.a.delete("/promo/".concat(e))},y=function(e){return u.a.get("/promo/".concat(e))}},178:function(e,t,n){"use strict";n(7);var r=n(175);n.d(t,"a",(function(){return r.a}));var a=n(176);n.d(t,"b",(function(){return a.a}));n(74)},179:function(e,t,n){e.exports={pizzaListCard:"PizzaListItem_pizzaListCard__1h4Rv",imageItemWrapper:"PizzaListItem_imageItemWrapper__2sYRI",imageItem:"PizzaListItem_imageItem__2lP-q",descriptionContainer:"PizzaListItem_descriptionContainer__1VGJp",sizePriceContainer:"PizzaListItem_sizePriceContainer__MKBtm",sizePriceButtonWrapper:"PizzaListItem_sizePriceButtonWrapper__g57po",sizePriceWrapper:"PizzaListItem_sizePriceWrapper__2K3rc",heading:"PizzaListItem_heading__1MGN_",ingredients:"PizzaListItem_ingredients__2dFGl",ingredientItem:"PizzaListItem_ingredientItem__vcRkv",radioButtonsList:"PizzaListItem_radioButtonsList__5eFxc",sizeLabel:"PizzaListItem_sizeLabel__2N08w",radioButton:"PizzaListItem_radioButton__3zO0v",sizeText:"PizzaListItem_sizeText__3kQDX",price:"PizzaListItem_price__2oKBT",currency:"PizzaListItem_currency__p4ytG",addCart:"PizzaListItem_addCart__27zuE"}},180:function(e,t,n){e.exports={pizzaHeading:"PizzaList_pizzaHeading__2LJoX",pizzaList:"PizzaList_pizzaList__3K3zX",pizzaListWrapper:"PizzaList_pizzaListWrapper__3bmzT"}},190:function(e,t,n){"use strict";n.r(t);var r=n(45),a=n.n(r),c=n(53),i=n(77),u=n(78),o=n(80),s=n(79),l=n(0),d=n.n(l),p=n(11),m=n(25),f=n.n(m),z=n(172),g=n(43),_=n(75),E=n(76),b=n(179),v=n.n(b),h=["M","L","XL"];var P=function(e){var t=Object(p.d)((function(e){return e.local.lang})),n=e._id,r=e.name,i=e.price,u=e.ingredients,o=e.images,s=Object(p.c)(),m=Object(l.useState)(["M","L","XL"]),f=Object(g.a)(m,2),b=f[0],P=f[1],L=Object(l.useState)("M"),y=Object(g.a)(L,2),O=y[0],I=y[1],j=function(){return s(_.a.addProdToOrderList(e,O))},k=d.a.createElement(z.a,{id:"order.pizzaSuccess",values:{name:r[t]}}),N=d.a.createElement(z.a,{id:"order.pizzaError",values:{name:r[t]}}),C=Object(l.useState)(!1),x=Object(g.a)(C,2),S=x[0],W=x[1],w=Object(l.useState)(k),B=Object(g.a)(w,2),R=B[0],F=B[1],T=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=14;break}if(!b.includes(O)){e.next=9;break}return W(!1),F(k),j(),P(b.filter((function(e){return e!==O}))),e.next=8,setTimeout((function(){return W(!0)}),10);case 8:return e.abrupt("return",e.sent);case 9:return W(!1),F(N),e.next=13,setTimeout((function(){return W(!0)}),10);case 13:return e.abrupt("return",e.sent);case 14:j(),P(b.filter((function(e){return e!==O}))),W(!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){var t=e.target.value;I(t)};return d.a.createElement("li",{key:n,className:v.a.pizzaListCard},S&&d.a.createElement(E.a,{message:R,confirm:!0,forCard:!0}),d.a.createElement("div",{className:v.a.imageItemWrapper},d.a.createElement("img",{src:o,className:v.a.imageItem,alt:"",width:"354px",height:"192px"})),d.a.createElement("div",{className:v.a.descriptionContainer},d.a.createElement("p",{className:v.a.heading},r[t]),d.a.createElement("ul",{className:v.a.ingredients},u.map((function(e){return d.a.createElement("li",{key:e._id},d.a.createElement("span",{className:v.a.ingredientItem},e.name[t]))}))),d.a.createElement("form",null,d.a.createElement("div",{className:v.a.sizePriceContainer},d.a.createElement("ul",{className:v.a.radioButtonsList},h.map((function(e,t){return d.a.createElement("li",{key:t},d.a.createElement("label",{className:v.a.sizeLabel},d.a.createElement("input",{type:"radio",value:e,checked:e===O,onChange:q,className:v.a.radioButton,key:e}),d.a.createElement("span",{className:v.a.sizeText},e)))}))),d.a.createElement("div",{className:v.a.sizePriceButtonWrapper},d.a.createElement("div",{className:v.a.sizePriceWrapper},d.a.createElement("span",{className:v.a.price},i[O],".00"),d.a.createElement("span",{className:v.a.currency}," ",d.a.createElement(z.a,{id:"grn"}))),d.a.createElement("button",{className:v.a.addCart,type:"button",onClick:function(){return T()}},d.a.createElement(z.a,{id:"orders.chart"})))))))},L=n(180),y=n.n(L);function O(e){var t=e.products,n=Object(p.d)((function(e){return e.local.lang}));return d.a.createElement("div",{className:y.a.pizzaListWrapper},d.a.createElement("h2",{className:y.a.pizzaHeading},d.a.createElement(z.a,{id:"pizza.classic"})),d.a.createElement("ul",{className:y.a.pizzaList},t.map((function(e,t){if("classic"===e.subcategory)return d.a.createElement(P,Object.assign({},e,{key:t,local:n}))}))),d.a.createElement("h2",{className:y.a.pizzaHeading},d.a.createElement(z.a,{id:"pizza.special"})),d.a.createElement("ul",{className:y.a.pizzaList},t.map((function(e,t){if("branded"===e.subcategory)return d.a.createElement(P,Object.assign({},e,{key:t,local:n}))}))),d.a.createElement("h2",{className:y.a.pizzaHeading},d.a.createElement(z.a,{id:"pizza.premium"})),d.a.createElement("ul",{className:y.a.pizzaList},t.map((function(e,t){if("premium"===e.subcategory)return d.a.createElement(P,Object.assign({},e,{key:t,local:n}))}))))}var I=n(178),j=f.a.CancelToken.source(),k=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.props.onFetchProductPizza("pizza")}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{j.cancel("Operation canceled")}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement(O,this.props)}}]),n}(l.Component),N={onFetchProductPizza:I.a.fetchProductsByCategory};t.default=Object(p.b)((function(e){return{products:I.b.getProducts(e)}}),N)(k)},192:function(e,t,n){e.exports={sliderWrapper:"Slider_sliderWrapper__2qRdx",sliderOverlay:"Slider_sliderOverlay__3ZeEZ",sliderImg:"Slider_sliderImg__2o_Ji",sliderContent:"Slider_sliderContent__h2GD8",slidePromoName:"Slider_slidePromoName__2o7JF",sliderPromoDescription:"Slider_sliderPromoDescription__31iaj"}},196:function(e,t,n){e.exports={productWrapper:"ProductContainer_productWrapper__1DnEx"}},235:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(43),a=n(0),c=n.n(a),i=n(25),u=n.n(i),o=n(12),s=n(11),l=n(231),d=n(8),p=n(192),m=n.n(p);function f(e){var t=Object(s.d)((function(e){return e.local.lang}));return c.a.createElement(l.a,{controls:!1},e.items.map((function(e){var n=e._id,r=e.images,a=e.title,i=e.description;return c.a.createElement(l.a.Item,{key:n,images:r,title:a[t],description:i[t]},c.a.createElement(o.c,{to:d.a.PROMO},c.a.createElement("div",{className:m.a.sliderWrapper},c.a.createElement("img",{className:m.a.sliderImg+" d-block w-100 h-100",src:r,alt:""}),c.a.createElement("div",{className:m.a.sliderOverlay},c.a.createElement("div",{className:m.a.sliderContent},c.a.createElement("p",{className:m.a.sliderPromoDescription},i[t]),c.a.createElement("h2",{className:m.a.slidePromoName},a[t]))))))})))}var z=n(46),g=n(196),_=n.n(g),E=function(e){var t=e.children;return c.a.createElement("div",{className:_.a.productWrapper},t)},b=(n(197),n(190)),v=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){u.a.get("/promo").then((function(e){var t=e.data;return i(t.promo)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{items:n}),c.a.createElement(a.Suspense,{fallback:c.a.createElement(z.a,null)},c.a.createElement(E,null,c.a.createElement(b.default,null))))}}}]);
//# sourceMappingURL=4.ed4efca7.chunk.js.map