(this.webpackJsonppizza_project=this.webpackJsonppizza_project||[]).push([[5],{175:function(e,t,n){"use strict";t.a={getLoading:function(e){return e.products.loading},getError:function(e){return e.products.errorReducer},getProducts:function(e){return e.products.items},getFileLink:function(e){return e.products.fileLink},getIngredients:function(e){return e.products.ingredients},createNewIngredient:function(e){return e.products.newIngredient},fileLink:function(e){return e.products.fileLink},addIngredient:function(e){return e.products.ingredient}}},176:function(e,t,n){"use strict";var a=n(4),r=n(177);t.a={fetchProducts:function(){return function(e){e(a.a.productsRequest()),Object(r.g)().then((function(t){var n=t.data;return e(a.a.productsSuccess(n.products))})).catch((function(t){return e(a.a.productsError(t))}))}},fetchProductsByCategory:function(e){return function(t){t(a.a.byCategoryRequest()),Object(r.j)(e).then((function(e){var n=e.data;return t(a.a.byCategorySuccess(n.products))})).catch((function(e){return t(a.a.byCategoryError(e))}))}},fetchProductById:function(e){return function(t){t(a.a.byIdRequest()),Object(r.i)(e).then((function(e){var n=e.data;return t(a.a.byIdSuccess(n.product))})).catch((function(e){return t(a.a.byIdError(e))}))}},sendFile:function(e){return function(t){t(a.a.sendFileRequest()),Object(r.k)(e).then((function(e){var n=e.data;return t(a.a.sendFileSuccess(n.image.file))})).catch((function(e){return t(a.a.sendFileError(e))}))}},sendProduct:function(e){return function(t){t(a.a.sendProductRequest()),Object(r.l)(e).then((function(e){var n=e.data;t(a.a.sendProductSuccess(n.product)),t(a.a.clearFile())})).catch((function(e){return t(a.a.sendProductError(e))}))}},getIngredients:function(){return function(e){e(a.a.getAllIngredientsRequest()),Object(r.f)().then((function(t){var n=t.data;return e(a.a.getAllIngredientsSuccess(n.ingredients))})).catch((function(t){return e(a.a.getAllIngredientsError(t))}))}},updateProduct:function(e,t){return function(n){n(a.a.updateProductRequest()),Object(r.p)(e,t).then((function(e){var t=e.data;return n(a.a.updateProductSuccess(t))})).catch((function(e){return n(a.a.updateProductError(e))}))}},deleteProduct:function(e){return function(t){t(a.a.deleteProductRequest()),Object(r.c)(e).then((function(e){var n=e.data;return t(a.a.deleteProductSuccess(n))})).catch((function(e){return t(a.a.deleteProductError(e))}))}},createNewIngredient:function(e){return function(t){t(a.a.createNewIngredientsRequest()),Object(r.a)(e).then((function(){return t(a.a.createNewIngredientsSuccess())})).catch((function(e){return t(a.a.createNewIngredientsError(e))}))}}}},177:function(e,t,n){"use strict";n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return E})),n.d(t,"g",(function(){return _})),n.d(t,"j",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"p",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"n",(function(){return C})),n.d(t,"m",(function(){return L})),n.d(t,"o",(function(){return h})),n.d(t,"b",(function(){return I})),n.d(t,"h",(function(){return j}));var a=n(46),r=n.n(a),i=n(53),c=n(25),u=n.n(c),o=u.a.CancelToken.source(),d="https://evening-caverns-34846.herokuapp.com",_=function(){return u.a.get("/products")},s=function(e){return u.a.get('/products/?category="'.concat(e,'"'),{cancelToken:o.token})},l=function(e){return u.a.get("/products/".concat(e))},m=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get("".concat(d,"/ingredients")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.post("".concat(d,"/ingredients"),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return u.a.post("".concat(d,"/products"),e)},g=function(e,t){return u.a.put("/products/".concat(e),t)},b=function(e){return u.a.delete("/products/".concat(e))},E=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.abrupt("return",u.a.post("".concat(d,"/images"),n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){return u.a.get("/developers")},v=function(){return u.a.get("/promo")},C=function(e){return u.a.post("/images",e)},L=function(e){return u.a.post("/promo",e)},h=function(e,t){return u.a.put("/promo/".concat(e),t)},I=function(e){return u.a.delete("/promo/".concat(e))},j=function(e){return u.a.get("/promo/".concat(e))}},178:function(e,t,n){"use strict";var a=n(4);n.d(t,"a",(function(){return a.a}));var r=n(176);n.d(t,"b",(function(){return r.a}));var i=n(175);n.d(t,"c",(function(){return i.a}));n(74)},181:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(11),c=n(12),u=n(175),o=n(172),d=n(188),_=n.n(d);t.a=function(e){var t=e.massage,n=Object(i.d)(u.a.getError);return n&&(t=n),r.a.createElement("div",{className:_.a.confirmation,"data-confirm":"continue"},r.a.createElement("div",{className:_.a.confirmation__form},r.a.createElement("p",{className:_.a.confirmation__formText},t),r.a.createElement(c.b,{to:"/admin/update-product",className:_.a.confirmation__formBtnLink},r.a.createElement("button",{type:"button",className:_.a.confirmation__formBtn},r.a.createElement(o.a,{id:"return back"}))),"deleted product"===t.props.id||r.a.createElement("button",{type:"button",className:_.a.confirmation__formBtn,name:"continue"},r.a.createElement(o.a,{id:"continue editing"}))))}},188:function(e,t,n){e.exports={confirmation:"confirmationWindow_confirmation__pKnzY",confirmation__form:"confirmationWindow_confirmation__form__pR0yr",confirmation__formText:"confirmationWindow_confirmation__formText__1Rc3f",confirmation__formBtnLink:"confirmationWindow_confirmation__formBtnLink__3We4i",confirmation__formBtn:"confirmationWindow_confirmation__formBtn__1H50C"}},189:function(e,t,n){"use strict";var a=n(43),r=n(0),i=n.n(r),c=n(190),u=n.n(c),o=n(11),d=n(172),_=n(176),s=n(181);t.a=function(){var e=Object(o.c)(),t=Object(r.useState)(!1),n=Object(a.a)(t,2),c=n[0],l=n[1],m=Object(r.useState)(""),p=Object(a.a)(m,2),f=p[0],g=p[1],b=Object(r.useState)(""),E=Object(a.a)(b,2),N=E[0],v=E[1],C=Object(r.useState)(""),L=Object(a.a)(C,2),h=L[0],I=L[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:u.a.editForm__newIngredient},i.a.createElement("h4",{className:u.a.editCard__title},i.a.createElement(d.a,{id:"update.createNewIngredient"})),i.a.createElement("div",{className:u.a.editCard__titleName},i.a.createElement("p",{className:u.a.editCard__titleLang},"ru"),i.a.createElement("input",{type:"text",value:f,onChange:function(e){return g(e.target.value)},className:u.a.editForm__inputLang}),i.a.createElement("p",{className:u.a.editCard__titleLang},"en"),i.a.createElement("input",{type:"text",value:h,onChange:function(e){return I(e.target.value)},className:u.a.editForm__inputLang}),i.a.createElement("p",{className:u.a.editCard__titleLang},"ukr"),i.a.createElement("input",{type:"text",value:N,onChange:function(e){return v(e.target.value)},className:u.a.editForm__inputLang})),i.a.createElement("button",{type:"button",onClick:function(){var t={name:{ru:f,en:h,ukr:N}};e(_.a.createNewIngredient(t)),l(!0)},className:u.a.editForm__addNewIngredientBtn},i.a.createElement(d.a,{id:"update.addNewIngredient"}))),i.a.createElement("div",{onClick:function(t){l(!1),t.target.name=e(_.a.getIngredients())}},c&&i.a.createElement(s.a,{massage:i.a.createElement(d.a,{id:"update.ingredientAdded"})})))}},190:function(e,t,n){e.exports={editForm__newIngredient:"addNewIngredient_editForm__newIngredient__3LTfv",editCard__title:"addNewIngredient_editCard__title__2k1zu",editForm__inputNewIngredient:"addNewIngredient_editForm__inputNewIngredient__1ZifC",editForm__addNewIngredientBtn:"addNewIngredient_editForm__addNewIngredientBtn__lrMth",editCard__titleName:"addNewIngredient_editCard__titleName__1MXsJ",editForm__inputLang:"addNewIngredient_editForm__inputLang__39CUR"}},191:function(e,t,n){e.exports={container:"adminUpdateListItemEdit_container__3HLuE",editCard:"adminUpdateListItemEdit_editCard__21bL0",editCard__image:"adminUpdateListItemEdit_editCard__image__3bGof",editForm:"adminUpdateListItemEdit_editForm__b5-qw",editCard__title:"adminUpdateListItemEdit_editCard__title__3FVGH",editCard__titleName:"adminUpdateListItemEdit_editCard__titleName__1ZB1V",editCard__titleLang:"adminUpdateListItemEdit_editCard__titleLang__3A86I",editForm__inputLang:"adminUpdateListItemEdit_editForm__inputLang__3aBBj",editCard__photoLabel:"adminUpdateListItemEdit_editCard__photoLabel__3AqSD",editForm__photo:"adminUpdateListItemEdit_editForm__photo__4go7p",editForm__photoBtn:"adminUpdateListItemEdit_editForm__photoBtn__1ruwQ",editForm__inputCategory:"adminUpdateListItemEdit_editForm__inputCategory__2OUAK",editForm__price:"adminUpdateListItemEdit_editForm__price__3l36G",editForm__priceInput:"adminUpdateListItemEdit_editForm__priceInput__2BURD",editForm__inputSinglePrice:"adminUpdateListItemEdit_editForm__inputSinglePrice__DZQgv",editForm__priceTitle:"adminUpdateListItemEdit_editForm__priceTitle__7VoSo",editForm__inputDescription:"adminUpdateListItemEdit_editForm__inputDescription__3l4iF",editForm__btnSubmit:"adminUpdateListItemEdit_editForm__btnSubmit__1COXz"}},229:function(e,t,n){e.exports={createContainer:"CreateNewProduct_createContainer__3miQy",applyForm:"CreateNewProduct_applyForm__1bpSr",ingredientsContainer:"CreateNewProduct_ingredientsContainer__27jlA",ingredient:"CreateNewProduct_ingredient__3pWQa",select:"CreateNewProduct_select__6Q71N","select__value-control":"CreateNewProduct_select__value-control__2f1OI",select__option:"CreateNewProduct_select__option__gAClj",inputLabel:"CreateNewProduct_inputLabel__2e9jl",editCard__titleName:"CreateNewProduct_editCard__titleName__3-L0X",editCard__titleName_price:"CreateNewProduct_editCard__titleName_price__3sUWx",title:"CreateNewProduct_title__1ywQ1",editForm__inputLang:"CreateNewProduct_editForm__inputLang__2tyfq",btn:"CreateNewProduct_btn__14ONA",inputImg:"CreateNewProduct_inputImg__2QTai",photoImg:"CreateNewProduct_photoImg__3ebYj",checkbox:"CreateNewProduct_checkbox__o8O_m",descriptionInput:"CreateNewProduct_descriptionInput__2kL2H",editForm__inputLang_price:"CreateNewProduct_editForm__inputLang_price__w4mhU"}},250:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L}));var a=n(46),r=n.n(a),i=n(53),c=n(45),u=n(43),o=n(0),d=n.n(o),_=n(11),s=n(229),l=n.n(s),m=n(82),p=n(178),f=n(76),g=n(172),b=n(189),E=n(44),N=n(191),v=n.n(N),C=n(47),L=function(){var e=Object(_.d)((function(e){return e.local.lang})),t="pizza",n="drinks",a="sides",s="desserts",N=[{value:t,label:E.a[e].pizza},{value:n,label:E.a[e].drinks},{value:a,label:E.a[e].sides},{value:s,label:E.a[e].desserts}],L=[{value:"classic",label:E.a[e]["pizza.classic"]},{value:"branded",label:E.a[e]["pizza.special"]},{value:"premium",label:E.a[e]["pizza.premium"]}],h=Object(o.useState)(N[0]),I=Object(u.a)(h,2),j=I[0],F=I[1],w=Object(o.useState)(L[0]),O=Object(u.a)(w,2),y=O[0],k=O[1],P=Object(o.useState)(""),S=Object(u.a)(P,2),x=S[0],U=S[1],B=Object(o.useState)(""),z=Object(u.a)(B,2),R=z[0],q=z[1],A=Object(o.useState)(""),D=Object(u.a)(A,2),T=D[0],W=D[1],Q=Object(o.useState)(""),X=Object(u.a)(Q,2),H=X[0],M=X[1],G=Object(o.useState)(""),J=Object(u.a)(G,2),V=J[0],Z=J[1],K=Object(o.useState)(""),Y=Object(u.a)(K,2),$=Y[0],ee=Y[1],te=Object(o.useState)(""),ne=Object(u.a)(te,2),ae=ne[0],re=ne[1],ie=Object(o.useState)(""),ce=Object(u.a)(ie,2),ue=ce[0],oe=ce[1],de=Object(o.useState)([]),_e=Object(u.a)(de,2),se=_e[0],le=_e[1],me=Object(_.d)(p.c.getLoading),pe=Object(_.d)(p.c.getError),fe=Object(_.d)(p.c.getFileLink),ge=Object(_.d)(p.c.getIngredients),be=Object(_.c)(),Ee=Object(_.d)(p.c.fileLink),Ne=function(e){return be(p.b.sendProduct(e))},ve=Object(_.d)(p.c.getProducts);Object(o.useEffect)((function(){be(p.b.getIngredients())}),[be]),Object(o.useEffect)((function(){return function(){be(p.a.clearFile())}}),[be]);var Ce=function(e){if(e.persist(),e.target.checked)return le((function(t){return[].concat(Object(c.a)(t),[e.target.value])}));le((function(t){return t.filter((function(t){return t!==e.target.value}))}))},Le=function(){var e=Object(i.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.persist(),n.preventDefault(),Ee&&x&&T&&R){e.next=4;break}return e.abrupt("return",alert("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"));case 4:if(a={categories:j.value,currency:"\u0433\u0440\u043d",images:Ee,name:{ukr:x,en:R,ru:T}},j.value!==t){e.next=13;break}if(se&&V&&$&&ae){e.next=8;break}return e.abrupt("return",alert("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"));case 8:a.ingredients=se,a.subcategory=y.value,a.price={M:V,L:$,XL:ae},e.next=17;break;case 13:if(H&&ue){e.next=15;break}return e.abrupt("return",alert("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b"));case 15:a.price={price:H},a.description=ue;case 17:Ne(a),F(N[0]),k(L[0]),U(""),q(""),W(""),M(""),Z(""),ee(""),re(""),oe(""),le([]);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d.a.createElement("div",{className:l.a.createContainer},me&&d.a.createElement(C.a,null),pe&&d.a.createElement(f.a,{message:E.a[e].error}),1===ve.length&&d.a.createElement(f.a,{message:E.a[e]["product.created"],confirm:1===ve.length}),d.a.createElement("form",{onSubmit:Le,className:l.a.applyForm},d.a.createElement(m.a,{className:l.a.select,value:j,onChange:F,options:N}),d.a.createElement(m.a,{className:l.a.select,value:j.value===t?y:null,onChange:k,options:L,isDisabled:j.value!==t}),d.a.createElement("p",{className:l.a.title},d.a.createElement(g.a,{id:"product.name"})),d.a.createElement("div",{className:l.a.editCard__titleName},d.a.createElement("p",{className:v.a.editCard__titleLang},d.a.createElement(g.a,{id:"rus name"})),d.a.createElement("input",{type:"text",value:T,onChange:function(e){return W(e.target.value)},className:l.a.editForm__inputLang}),d.a.createElement("p",{className:v.a.editCard__titleLang},d.a.createElement(g.a,{id:"eng name"})),d.a.createElement("input",{type:"text",value:R,onChange:function(e){return q(e.target.value)},className:l.a.editForm__inputLang}),d.a.createElement("p",{className:v.a.editCard__titleLang},d.a.createElement(g.a,{id:"ukr name"})),d.a.createElement("input",{type:"text",value:x,onChange:function(e){return U(e.target.value)},className:l.a.editForm__inputLang})),d.a.createElement("p",{className:l.a.title},d.a.createElement(g.a,{id:"product.price"})),j.value===t?d.a.createElement("div",{className:l.a.editCard__titleName_price},d.a.createElement("p",{className:v.a.editCard__titleLang},"M"),d.a.createElement("input",{type:"text",value:V,onChange:function(e){return Z(e.target.value)},className:l.a.editForm__inputLang}),d.a.createElement("p",{className:v.a.editCard__titleLang},"L"),d.a.createElement("input",{type:"text",value:$,onChange:function(e){return ee(e.target.value)},className:l.a.editForm__inputLang}),d.a.createElement("p",{className:v.a.editCard__titleLang},"XL"),d.a.createElement("input",{type:"text",value:ae,onChange:function(e){return re(e.target.value)},className:l.a.editForm__inputLang})):d.a.createElement("div",null,d.a.createElement("input",{type:"text",value:H,onChange:function(e){return M(e.target.value)},className:l.a.editForm__inputLang_price})),j.value!==t&&d.a.createElement("label",{className:l.a.inputLabel},d.a.createElement("h4",{className:l.a.title},d.a.createElement(g.a,{id:"product.description"})),d.a.createElement("input",{type:"text",value:ue,onChange:function(e){return oe(e.target.value)},className:l.a.descriptionInput})),fe&&d.a.createElement("img",{src:fe,alt:"",className:l.a.photoImg}),d.a.createElement("label",{className:"".concat(l.a.inputLabel," ").concat(l.a.btn)},d.a.createElement("h4",{className:l.a.btn},d.a.createElement(g.a,{id:"photo"})),d.a.createElement("input",{type:"file",id:"image",onChange:function(e){var t;e.persist(),e.preventDefault(),t=e.target.files[0],be(p.b.sendFile(t))},className:l.a.inputImg})),d.a.createElement("div",{className:l.a.ingredientsContainer},j.value===t&&ge.map((function(t){return d.a.createElement("label",{key:t._id,className:l.a.ingredient},t.name[e],d.a.createElement("input",{className:l.a.checkbox,onClick:Ce,type:"checkbox",id:t._id,value:t._id}))}))),d.a.createElement("button",{type:"Submit",className:l.a.btn},d.a.createElement(g.a,{id:"send"})),d.a.createElement(b.a,null)))}}}]);
//# sourceMappingURL=5.47eeb384.chunk.js.map