{"version":3,"sources":["redux/product/productSelectors.js","services/api.js","redux/product/productOperations.js","components/AdminUpdateListItemEdit/adminUpdateListItemEdit.module.css","components/CreateNewProduct/CreateNewProduct.module.css","components/CreateNewProduct/CreateNewProduct.jsx"],"names":["getLoading","state","products","loading","getError","errorReducer","getProducts","items","getFileLink","fileLink","getIngredients","ingredients","createNewIngredient","newIngredient","addIngredient","ingredient","source","axios","CancelToken","baseURL","getAllProducts","get","getProductsByCategory","category","cancelToken","token","getProductById","id","getAllIngredients","a","createNewIngredients","post","postNewProduct","product","updateProductById","productId","newProduct","put","deleteProductById","delete","postImage","file","data","FormData","append","fetchDevs","fetchAllStocks","sendUserFile","sendNewStock","stock","updateExistingStock","stockId","newStock","deleteExistingStock","getExistingStockById","fetchProducts","dispatch","productActions","productsRequest","then","productsSuccess","catch","error","productsError","fetchProductsByCategory","byCategoryRequest","byCategorySuccess","byCategoryError","fetchProductById","byIdRequest","byIdSuccess","byIdError","sendFile","sendFileRequest","sendFileSuccess","image","sendFileError","sendProduct","sendProductRequest","sendProductSuccess","sendProductError","getAllIngredientsRequest","getAllIngredientsSuccess","getAllIngredientsError","updateProduct","updateProductRequest","updateProductSuccess","updateProductError","deleteProduct","deleteProductRequest","deleteProductSuccess","deleteProductError","createNewIngredientsRequest","createNewIngredientsSuccess","createNewIngredientsError","module","exports","CreateNewProduct","local","useSelector","lang","categories","options","value","label","languages","pizza","drinks","sides","desserts","pizzaCategories","useState","changeCategory","subCategory","changeSubCategory","ukrName","setUkrName","enName","setEnName","ruName","setRuName","price","setPrice","M","setM","L","setL","XL","setXL","description","setDescription","activeIngredients","setActiveIngredients","productSelectors","useDispatch","hrefProductImd","productOperations","createdProduct","useEffect","handleCheckboxChange","e","persist","target","checked","prev","filter","el","submitForm","preventDefault","currency","images","name","ukr","en","ru","subcategory","className","styles","createContainer","length","Notification","message","confirm","forCard","onSubmit","applyForm","select","onChange","isDisabled","title","editCard__titleName","style","editCard__titleLang","type","editForm__inputLang","editCard__titleName_price","editForm__inputLang_price","inputLabel","descriptionInput","btn","files","inputImg","ingredientsContainer","map","i","key","_id","checkbox","onClick"],"mappings":"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","file":"static/js/18.1c299b86.chunk.js","sourcesContent":["const getLoading = (state) => state.products.loading;\r\n\r\nconst getError = (state) => state.products.errorReducer;\r\n\r\nconst getProducts = (state) => state.products.items;\r\n\r\nconst getFileLink = (state) => state.products.fileLink;\r\n\r\nconst getIngredients = (state) => state.products.ingredients;\r\n\r\nconst createNewIngredient = (state) => state.products.newIngredient;\r\n\r\nconst fileLink = (state) => state.products.fileLink;\r\n\r\nconst addIngredient = (state) => state.products.ingredient;\r\n\r\nexport default {\r\n  getLoading,\r\n  getError,\r\n  getProducts,\r\n  getFileLink,\r\n  getIngredients,\r\n  createNewIngredient,\r\n  fileLink,\r\n  addIngredient,\r\n};\r\n","import axios from \"axios\";\r\nconst CancelToken = axios.CancelToken;\r\nconst source = CancelToken.source();\r\n\r\nconst baseURL = \"https://evening-caverns-34846.herokuapp.com\";\r\n\r\n//for Products\r\nconst getAllProducts = () => {\r\n  return axios.get(\"/products\");\r\n};\r\n\r\nconst getProductsByCategory = (category) => {\r\n  return axios.get(`/products/?category=\"${category}\"`, {\r\n    cancelToken: source.token,\r\n  });\r\n};\r\n\r\nconst getProductById = (id) => {\r\n  return axios.get(`/products/${id}`);\r\n};\r\n\r\nconst getAllIngredients = async () => {\r\n  return axios.get(`${baseURL}/ingredients`);\r\n};\r\nconst createNewIngredients = async (ingredients) => {\r\n  return axios.post(`${baseURL}/ingredients`, ingredients);\r\n};\r\n\r\nconst postNewProduct = (product) => {\r\n  return axios.post(`${baseURL}/products`, product);\r\n};\r\n\r\nconst updateProductById = (productId, newProduct) => {\r\n  return axios.put(`/products/${productId}`, newProduct);\r\n};\r\n\r\nconst deleteProductById = (productId) => {\r\n  return axios.delete(`/products/${productId}`);\r\n};\r\n\r\n//for Orders\r\n\r\n// other\r\nconst postImage = async (file) => {\r\n  const data = new FormData();\r\n  data.append(\"file\", file);\r\n\r\n  return axios.post(`${baseURL}/images`, data);\r\n};\r\n\r\n// developers\r\n\r\nconst fetchDevs = () => axios.get(\"/developers\");\r\n\r\n// Stocks\r\n\r\nconst fetchAllStocks = () => axios.get(\"/promo\");\r\n\r\nconst sendUserFile = (file) => axios.post(\"/images\", file);\r\n\r\nconst sendNewStock = (stock) => axios.post(\"/promo\", stock);\r\n\r\nconst updateExistingStock = (stockId, newStock) =>\r\n  axios.put(`/promo/${stockId}`, newStock);\r\n\r\nconst deleteExistingStock = (stockId) => axios.delete(`/promo/${stockId}`);\r\n\r\nconst getExistingStockById = (stockId) => axios.get(`/promo/${stockId}`);\r\n\r\nexport {\r\n  fetchDevs,\r\n  getAllIngredients,\r\n  createNewIngredients,\r\n  postNewProduct,\r\n  postImage,\r\n  getAllProducts,\r\n  getProductsByCategory,\r\n  getProductById,\r\n  updateProductById,\r\n  deleteProductById,\r\n  fetchAllStocks,\r\n  sendUserFile,\r\n  sendNewStock,\r\n  updateExistingStock,\r\n  deleteExistingStock,\r\n  getExistingStockById,\r\n};\r\n","import productActions from \"./productActions\";\r\nimport {\r\n  getAllIngredients,\r\n  postNewProduct,\r\n  postImage,\r\n  getAllProducts,\r\n  getProductsByCategory,\r\n  getProductById,\r\n  updateProductById,\r\n  deleteProductById,\r\n  createNewIngredients,\r\n} from \"../../services/api\";\r\n\r\nconst fetchProducts = () => (dispatch) => {\r\n  dispatch(productActions.productsRequest());\r\n\r\n  getAllProducts()\r\n    .then(({ data }) => dispatch(productActions.productsSuccess(data.products)))\r\n    .catch((error) => dispatch(productActions.productsError(error)));\r\n};\r\n\r\nconst fetchProductsByCategory = (category) => (dispatch) => {\r\n  dispatch(productActions.byCategoryRequest());\r\n\r\n  getProductsByCategory(category)\r\n    .then(({ data }) =>\r\n      dispatch(productActions.byCategorySuccess(data.products))\r\n    )\r\n    .catch((error) => dispatch(productActions.byCategoryError(error)));\r\n};\r\n\r\nconst fetchProductById = (id) => (dispatch) => {\r\n  dispatch(productActions.byIdRequest());\r\n\r\n  getProductById(id)\r\n    .then(({ data }) => dispatch(productActions.byIdSuccess(data.product)))\r\n    .catch((error) => dispatch(productActions.byIdError(error)));\r\n};\r\n\r\n//for AdminPage\r\nconst sendFile = (file) => (dispatch) => {\r\n  dispatch(productActions.sendFileRequest());\r\n\r\n  postImage(file)\r\n    .then(({ data }) =>\r\n      dispatch(productActions.sendFileSuccess(data.image.file))\r\n    )\r\n    .catch((error) => dispatch(productActions.sendFileError(error)));\r\n};\r\n\r\nconst sendProduct = (product) => (dispatch) => {\r\n  dispatch(productActions.sendProductRequest());\r\n\r\n  postNewProduct(product)\r\n    .then(({ data }) =>\r\n      dispatch(productActions.sendProductSuccess(data.product))\r\n    )\r\n    //проверить что приходит в data\r\n    .catch((error) => dispatch(productActions.sendProductError(error)));\r\n};\r\n\r\nconst getIngredients = () => (dispatch) => {\r\n  dispatch(productActions.getAllIngredientsRequest());\r\n\r\n  getAllIngredients()\r\n    .then(({ data }) =>\r\n      dispatch(productActions.getAllIngredientsSuccess(data.ingredients))\r\n    )\r\n    .catch((error) => dispatch(productActions.getAllIngredientsError(error)));\r\n};\r\nconst createNewIngredient = (ingredient) => (dispatch) => {\r\n  dispatch(productActions.createNewIngredientsRequest());\r\n\r\n  createNewIngredients(ingredient)\r\n    .then(() => dispatch(productActions.createNewIngredientsSuccess()))\r\n    .catch((error) =>\r\n      dispatch(productActions.createNewIngredientsError(error))\r\n    );\r\n};\r\n\r\nconst updateProduct = (productId, newProduct) => (dispatch) => {\r\n  dispatch(productActions.updateProductRequest());\r\n\r\n  updateProductById(productId, newProduct)\r\n    .then(({ data }) => dispatch(productActions.updateProductSuccess(data)))\r\n    .catch((error) => dispatch(productActions.updateProductError(error)));\r\n};\r\n\r\nconst deleteProduct = (productId) => (dispatch) => {\r\n  dispatch(productActions.deleteProductRequest());\r\n\r\n  deleteProductById(productId)\r\n    .then(\r\n      ({ data }) => dispatch(productActions.deleteProductSuccess(data))\r\n      //проверить что приходит в data\r\n    )\r\n    .catch((error) => dispatch(productActions.deleteProductError(error)));\r\n};\r\n\r\nexport default {\r\n  fetchProducts,\r\n  fetchProductsByCategory,\r\n  fetchProductById,\r\n\r\n  sendFile,\r\n  sendProduct,\r\n  getIngredients,\r\n  updateProduct,\r\n  deleteProduct,\r\n  createNewIngredient,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"adminUpdateListItemEdit_container__3HLuE\",\"editCard\":\"adminUpdateListItemEdit_editCard__21bL0\",\"editCard__image\":\"adminUpdateListItemEdit_editCard__image__3bGof\",\"editForm\":\"adminUpdateListItemEdit_editForm__b5-qw\",\"editCard__title\":\"adminUpdateListItemEdit_editCard__title__3FVGH\",\"editCard__titleName\":\"adminUpdateListItemEdit_editCard__titleName__1ZB1V\",\"editCard__titleLang\":\"adminUpdateListItemEdit_editCard__titleLang__3A86I\",\"editForm__inputLang\":\"adminUpdateListItemEdit_editForm__inputLang__3aBBj\",\"editCard__photoLabel\":\"adminUpdateListItemEdit_editCard__photoLabel__3AqSD\",\"editForm__photo\":\"adminUpdateListItemEdit_editForm__photo__4go7p\",\"editForm__photoBtn\":\"adminUpdateListItemEdit_editForm__photoBtn__1ruwQ\",\"editForm__inputCategory\":\"adminUpdateListItemEdit_editForm__inputCategory__2OUAK\",\"editForm__price\":\"adminUpdateListItemEdit_editForm__price__3l36G\",\"editForm__priceInput\":\"adminUpdateListItemEdit_editForm__priceInput__2BURD\",\"editForm__inputSinglePrice\":\"adminUpdateListItemEdit_editForm__inputSinglePrice__DZQgv\",\"editForm__priceTitle\":\"adminUpdateListItemEdit_editForm__priceTitle__7VoSo\",\"editForm__inputDescription\":\"adminUpdateListItemEdit_editForm__inputDescription__3l4iF\",\"editForm__btnSubmit\":\"adminUpdateListItemEdit_editForm__btnSubmit__1COXz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createContainer\":\"CreateNewProduct_createContainer__3miQy\",\"applyForm\":\"CreateNewProduct_applyForm__1bpSr\",\"ingredientsContainer\":\"CreateNewProduct_ingredientsContainer__27jlA\",\"ingredient\":\"CreateNewProduct_ingredient__3pWQa\",\"select\":\"CreateNewProduct_select__6Q71N\",\"select__value-control\":\"CreateNewProduct_select__value-control__2f1OI\",\"select__option\":\"CreateNewProduct_select__option__gAClj\",\"inputLabel\":\"CreateNewProduct_inputLabel__2e9jl\",\"editCard__titleName\":\"CreateNewProduct_editCard__titleName__3-L0X\",\"editCard__titleName_price\":\"CreateNewProduct_editCard__titleName_price__3sUWx\",\"title\":\"CreateNewProduct_title__1ywQ1\",\"editForm__inputLang\":\"CreateNewProduct_editForm__inputLang__2tyfq\",\"btn\":\"CreateNewProduct_btn__14ONA\",\"inputImg\":\"CreateNewProduct_inputImg__2QTai\",\"checkbox\":\"CreateNewProduct_checkbox__o8O_m\",\"descriptionInput\":\"CreateNewProduct_descriptionInput__2kL2H\",\"editForm__inputLang_price\":\"CreateNewProduct_editForm__inputLang_price__w4mhU\"};","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport styles from \"./CreateNewProduct.module.css\";\r\nimport Select from \"react-select\";\r\nimport productSelectors from \"../../redux/product/productSelectors\";\r\nimport productOperations from \"../../redux/product/productOperations\";\r\nimport Notification from \"../Notification\";\r\nimport { FormattedMessage } from \"react-intl\";\r\n\r\nimport languages from \"../../languages\";\r\nimport style from \"../AdminUpdateListItemEdit/adminUpdateListItemEdit.module.css\";\r\n\r\nconst CreateNewProduct = () => {\r\n  const local = useSelector(state => state.local.lang);\r\n  const categories = {\r\n    pizza: \"pizza\",\r\n    drinks: \"drinks\",\r\n    sides: \"sides\",\r\n    desserts: \"desserts\"\r\n  };\r\n\r\n  const options = [\r\n    { value: categories.pizza, label: languages[local].pizza },\r\n    { value: categories.drinks, label: languages[local].drinks },\r\n    { value: categories.sides, label: languages[local].sides },\r\n    { value: categories.desserts, label: languages[local].desserts }\r\n  ];\r\n\r\n  const pizzaCategories = [\r\n    // {value: \"bestPrice\", label: \"Best price\"},\r\n    { value: \"classic\", label: languages[local][\"pizza.classic\"] },\r\n    { value: \"branded\", label: languages[local][\"pizza.special\"] },\r\n    { value: \"premium\", label: languages[local][\"pizza.premium\"] }\r\n  ];\r\n\r\n  const [category, changeCategory] = useState(options[0]);\r\n  const [subCategory, changeSubCategory] = useState(pizzaCategories[0]);\r\n  const [ukrName, setUkrName] = useState(\"\");\r\n  const [enName, setEnName] = useState(\"\");\r\n  const [ruName, setRuName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [M, setM] = useState(\"\");\r\n  const [L, setL] = useState(\"\");\r\n  const [XL, setXL] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [activeIngredients, setActiveIngredients] = useState([]);\r\n\r\n  const ingredients = useSelector(productSelectors.getIngredients);\r\n  const dispatch = useDispatch();\r\n  const postImage = file => dispatch(productOperations.sendFile(file));\r\n  const hrefProductImd = useSelector(productSelectors.fileLink);\r\n  const postNewProduct = product =>\r\n    dispatch(productOperations.sendProduct(product));\r\n  const createdProduct = useSelector(productSelectors.getProducts);\r\n  //   console.log(\"hrefProductImd:\", hrefProductImd);\r\n\r\n  useEffect(() => {\r\n    dispatch(productOperations.getIngredients());\r\n  }, [dispatch]);\r\n\r\n  const handleImg = e => {\r\n    e.persist();\r\n    e.preventDefault();\r\n    postImage(e.target.files[0]);\r\n  };\r\n\r\n  const handleCheckboxChange = e => {\r\n    e.persist();\r\n    if (e.target.checked) {\r\n      return setActiveIngredients(prev => [...prev, e.target.value]);\r\n    }\r\n    setActiveIngredients(prev => prev.filter(el => el !== e.target.value));\r\n  };\r\n\r\n  const submitForm = async e => {\r\n    e.persist();\r\n    e.preventDefault();\r\n    const product = {\r\n      categories: category.value,\r\n      currency: \"грн\",\r\n      images: hrefProductImd,\r\n      name: {\r\n        ukr: ukrName,\r\n        en: enName,\r\n        ru: ruName\r\n      }\r\n    };\r\n    if (category.value === categories.pizza) {\r\n      product.ingredients = activeIngredients;\r\n      product.subcategory = subCategory.value;\r\n      product.price = {\r\n        M: M,\r\n        L: L,\r\n        XL: XL\r\n      };\r\n    } else {\r\n      product.price = { price };\r\n      product.description = description;\r\n    }\r\n    postNewProduct(product);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.createContainer}>\r\n      {createdProduct.length === 1 && (\r\n        <Notification\r\n          message={languages[local][\"product.created\"]}\r\n          confirm\r\n          forCard\r\n        />\r\n      )}\r\n      <form onSubmit={submitForm} className={styles.applyForm}>\r\n        <Select\r\n          className={styles.select}\r\n          value={category}\r\n          onChange={changeCategory}\r\n          options={options}\r\n        />\r\n        <Select\r\n          className={styles.select}\r\n          value={category.value === categories.pizza ? subCategory : null}\r\n          onChange={changeSubCategory}\r\n          options={pizzaCategories}\r\n          isDisabled={category.value !== categories.pizza}\r\n        />\r\n        {/* <hr /> */}\r\n        <p className={styles.title}>\r\n          <FormattedMessage id=\"product.name\" />\r\n        </p>\r\n        <div className={styles.editCard__titleName}>\r\n          <p className={style.editCard__titleLang}>\r\n            <FormattedMessage id=\"rus name\" />\r\n          </p>\r\n          <input\r\n            type=\"text\"\r\n            value={ruName}\r\n            onChange={e => setRuName(e.target.value)}\r\n            className={styles.editForm__inputLang}\r\n          />\r\n          <p className={style.editCard__titleLang}>\r\n            <FormattedMessage id=\"eng name\" />\r\n          </p>\r\n          <input\r\n            type=\"text\"\r\n            value={enName}\r\n            onChange={e => setEnName(e.target.value)}\r\n            className={styles.editForm__inputLang}\r\n          />\r\n          <p className={style.editCard__titleLang}>\r\n            <FormattedMessage id=\"ukr name\" />\r\n          </p>\r\n          <input\r\n            type=\"text\"\r\n            value={ukrName}\r\n            onChange={e => setUkrName(e.target.value)}\r\n            className={styles.editForm__inputLang}\r\n          />\r\n        </div>\r\n        <p className={styles.title}>\r\n          <FormattedMessage id=\"product.price\" />\r\n        </p>\r\n\r\n        {category.value === categories.pizza ? (\r\n          <div className={styles.editCard__titleName_price}>\r\n            <p className={style.editCard__titleLang}>M</p>\r\n            <input\r\n              type=\"text\"\r\n              value={M}\r\n              onChange={e => setM(e.target.value)}\r\n              className={styles.editForm__inputLang}\r\n            />\r\n\r\n            <p className={style.editCard__titleLang}>L</p>\r\n\r\n            <input\r\n              type=\"text\"\r\n              value={L}\r\n              onChange={e => setL(e.target.value)}\r\n              className={styles.editForm__inputLang}\r\n            />\r\n\r\n            <p className={style.editCard__titleLang}>XL</p>\r\n\r\n            <input\r\n              type=\"text\"\r\n              value={XL}\r\n              onChange={e => setXL(e.target.value)}\r\n              className={styles.editForm__inputLang}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            {/* <p className={`${style.editCard__titleLang} ${styles.title}`}>\r\n              <FormattedMessage id=\"product.price\" />\r\n            </p> */}\r\n            <input\r\n              type=\"text\"\r\n              value={price}\r\n              onChange={e => setPrice(e.target.value)}\r\n              className={styles.editForm__inputLang_price}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {category.value !== categories.pizza && (\r\n          <label className={styles.inputLabel}>\r\n            <h4 className={styles.title}>\r\n              <FormattedMessage id=\"product.description\" />\r\n            </h4>\r\n            <input\r\n              type=\"text\"\r\n              value={description}\r\n              onChange={e => setDescription(e.target.value)}\r\n              className={styles.descriptionInput}\r\n            />\r\n          </label>\r\n        )}\r\n\r\n        <label className={`${styles.inputLabel} ${styles.btn}`}>\r\n          <h4 className={styles.btn}>\r\n            <FormattedMessage id=\"photo\" />\r\n          </h4>\r\n          <input\r\n            type=\"file\"\r\n            id=\"image\"\r\n            onChange={handleImg}\r\n            className={styles.inputImg}\r\n          />\r\n        </label>\r\n        {/* <hr /> */}\r\n        <div className={styles.ingredientsContainer}>\r\n          {category.value === categories.pizza &&\r\n            ingredients.map(i => (\r\n              <label key={i._id} className={styles.ingredient}>\r\n                {i.name[local]}\r\n                {/* <p className={styles.chooseVar}>{i.name[local]}</p> */}\r\n                <input\r\n                  className={styles.checkbox}\r\n                  onClick={handleCheckboxChange}\r\n                  type=\"checkbox\"\r\n                  id={i._id}\r\n                  value={i._id}\r\n                />\r\n              </label>\r\n            ))}\r\n        </div>\r\n        <button type=\"Submit\" className={styles.btn}>\r\n          <FormattedMessage id=\"send\" />\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default CreateNewProduct;\r\n"],"sourceRoot":""}