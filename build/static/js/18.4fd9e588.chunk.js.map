{"version":3,"sources":["redux/product/productOperations.js","redux/product/productSelectors.js","services/api.js","components/AdminUpdateListItemEdit/adminUpdateListItemEdit.module.css","components/CreateNewProduct/CreateNewProduct.module.css","components/CreateNewProduct/CreateNewProduct.jsx"],"names":["fetchProducts","dispatch","productActions","productsRequest","getAllProducts","then","data","productsSuccess","products","catch","error","productsError","fetchProductsByCategory","category","byCategoryRequest","getProductsByCategory","byCategorySuccess","byCategoryError","fetchProductById","id","byIdRequest","getProductById","byIdSuccess","product","byIdError","sendFile","file","sendFileRequest","postImage","sendFileSuccess","image","sendFileError","sendProduct","sendProductRequest","postNewProduct","sendProductSuccess","sendProductError","getIngredients","getAllIngredientsRequest","getAllIngredients","getAllIngredientsSuccess","ingredients","getAllIngredientsError","updateProduct","productId","newProduct","updateProductRequest","updateProductById","updateProductSuccess","updateProductError","deleteProduct","deleteProductRequest","deleteProductById","deleteProductSuccess","deleteProductError","createNewIngredient","ingredient","createNewIngredientsRequest","createNewIngredients","createNewIngredientsSuccess","createNewIngredientsError","getLoading","state","loading","getError","errorReducer","getProducts","items","getFileLink","fileLink","newIngredient","addIngredient","source","axios","CancelToken","baseURL","get","cancelToken","token","a","post","put","delete","FormData","append","fetchDevs","fetchAllStocks","sendUserFile","sendNewStock","stock","updateExistingStock","stockId","newStock","deleteExistingStock","getExistingStockById","module","exports","CreateNewProduct","local","useSelector","lang","categories","options","value","label","languages","pizza","drinks","sides","desserts","pizzaCategories","useState","changeCategory","subCategory","changeSubCategory","ukrName","setUkrName","enName","setEnName","ruName","setRuName","price","setPrice","M","setM","L","setL","XL","setXL","description","setDescription","activeIngredients","setActiveIngredients","productSelectors","useDispatch","hrefProductImd","productOperations","createdProduct","useEffect","handleCheckboxChange","e","persist","target","checked","prev","filter","el","submitForm","preventDefault","currency","images","name","ukr","en","ru","subcategory","className","styles","createContainer","length","Notification","message","confirm","forCard","onSubmit","applyForm","select","onChange","isDisabled","title","editCard__titleName","style","editCard__titleLang","type","editForm__inputLang","inputLabel","descriptionInput","btn","files","inputImg","ingredientsContainer","map","i","key","_id","chooseVar","onClick"],"mappings":"iHAAA,oBAmGe,KACbA,cAvFoB,kBAAM,SAACC,GAC3BA,EAASC,IAAeC,mBAExBC,cACGC,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcL,EAASC,IAAeK,gBAAgBD,EAAKE,cAChEC,OAAM,SAACC,GAAD,OAAWT,EAASC,IAAeS,cAAcD,SAmF1DE,wBAhF8B,SAACC,GAAD,OAAc,SAACZ,GAC7CA,EAASC,IAAeY,qBAExBC,YAAsBF,GACnBR,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJL,EAASC,IAAec,kBAAkBV,EAAKE,cAEhDC,OAAM,SAACC,GAAD,OAAWT,EAASC,IAAee,gBAAgBP,SA0E5DQ,iBAvEuB,SAACC,GAAD,OAAQ,SAAClB,GAChCA,EAASC,IAAekB,eAExBC,YAAeF,GACZd,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcL,EAASC,IAAeoB,YAAYhB,EAAKiB,aAC5Dd,OAAM,SAACC,GAAD,OAAWT,EAASC,IAAesB,UAAUd,SAoEtDe,SAhEe,SAACC,GAAD,OAAU,SAACzB,GAC1BA,EAASC,IAAeyB,mBAExBC,YAAUF,GACPrB,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJL,EAASC,IAAe2B,gBAAgBvB,EAAKwB,MAAMJ,UAEpDjB,OAAM,SAACC,GAAD,OAAWT,EAASC,IAAe6B,cAAcrB,SA0D1DsB,YAvDkB,SAACT,GAAD,OAAa,SAACtB,GAChCA,EAASC,IAAe+B,sBAExBC,YAAeX,GACZlB,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJL,EAASC,IAAeiC,mBAAmB7B,EAAKiB,aAGjDd,OAAM,SAACC,GAAD,OAAWT,EAASC,IAAekC,iBAAiB1B,SAgD7D2B,eA7CqB,kBAAM,SAACpC,GAC5BA,EAASC,IAAeoC,4BAExBC,cACGlC,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJL,EAASC,IAAesC,yBAAyBlC,EAAKmC,iBAEvDhC,OAAM,SAACC,GAAD,OAAWT,EAASC,IAAewC,uBAAuBhC,SAuCnEiC,cA3BoB,SAACC,EAAWC,GAAZ,OAA2B,SAAC5C,GAChDA,EAASC,IAAe4C,wBAExBC,YAAkBH,EAAWC,GAC1BxC,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcL,EAASC,IAAe8C,qBAAqB1C,OAChEG,OAAM,SAACC,GAAD,OAAWT,EAASC,IAAe+C,mBAAmBvC,SAuB/DwC,cApBoB,SAACN,GAAD,OAAe,SAAC3C,GACpCA,EAASC,IAAeiD,wBAExBC,YAAkBR,GACfvC,MACC,gBAAGC,EAAH,EAAGA,KAAH,OAAcL,EAASC,IAAemD,qBAAqB/C,OAG5DG,OAAM,SAACC,GAAD,OAAWT,EAASC,IAAeoD,mBAAmB5C,SAa/D6C,oBAvC0B,SAACC,GAAD,OAAgB,SAACvD,GAC3CA,EAASC,IAAeuD,+BAExBC,YAAqBF,GAClBnD,MAAK,kBAAMJ,EAASC,IAAeyD,kCACnClD,OAAM,SAACC,GAAD,OACLT,EAASC,IAAe0D,0BAA0BlD,W,iCC5DzC,KACbmD,WAjBiB,SAACC,GAAD,OAAWA,EAAMtD,SAASuD,SAkB3CC,SAhBe,SAACF,GAAD,OAAWA,EAAMtD,SAASyD,cAiBzCC,YAfkB,SAACJ,GAAD,OAAWA,EAAMtD,SAAS2D,OAgB5CC,YAdkB,SAACN,GAAD,OAAWA,EAAMtD,SAAS6D,UAe5ChC,eAbqB,SAACyB,GAAD,OAAWA,EAAMtD,SAASiC,aAc/Cc,oBAZ0B,SAACO,GAAD,OAAWA,EAAMtD,SAAS8D,eAapDD,SAXe,SAACP,GAAD,OAAWA,EAAMtD,SAAS6D,UAYzCE,cAVoB,SAACT,GAAD,OAAWA,EAAMtD,SAASgD,c,+mBCZ1CgB,EADcC,IAAMC,YACCF,SAErBG,EAAU,8CAGVvE,EAAiB,WACrB,OAAOqE,IAAMG,IAAI,cAGb7D,EAAwB,SAACF,GAC7B,OAAO4D,IAAMG,IAAN,+BAAkC/D,EAAlC,KAA+C,CACpDgE,YAAaL,EAAOM,SAIlBzD,EAAiB,SAACF,GACtB,OAAOsD,IAAMG,IAAN,oBAAuBzD,KAG1BoB,EAAiB,uCAAG,sBAAAwC,EAAA,+EACjBN,IAAMG,IAAN,UAAaD,EAAb,kBADiB,2CAAH,qDAGjBjB,EAAoB,uCAAG,WAAOjB,GAAP,SAAAsC,EAAA,+EACpBN,IAAMO,KAAN,UAAcL,EAAd,gBAAqClC,IADjB,2CAAH,sDAIpBP,EAAiB,SAACX,GACtB,OAAOkD,IAAMO,KAAN,UAAcL,EAAd,aAAkCpD,IAGrCwB,EAAoB,SAACH,EAAWC,GACpC,OAAO4B,IAAMQ,IAAN,oBAAuBrC,GAAaC,IAGvCO,EAAoB,SAACR,GACzB,OAAO6B,IAAMS,OAAN,oBAA0BtC,KAM7BhB,EAAS,uCAAG,WAAOF,GAAP,eAAAqD,EAAA,6DACVzE,EAAO,IAAI6E,UACZC,OAAO,OAAQ1D,GAFJ,kBAIT+C,IAAMO,KAAN,UAAcL,EAAd,WAAgCrE,IAJvB,2CAAH,sDAST+E,EAAY,kBAAMZ,IAAMG,IAAI,gBAI5BU,EAAiB,kBAAMb,IAAMG,IAAI,WAEjCW,EAAe,SAAC7D,GAAD,OAAU+C,IAAMO,KAAK,UAAWtD,IAE/C8D,EAAe,SAACC,GAAD,OAAWhB,IAAMO,KAAK,SAAUS,IAE/CC,EAAsB,SAACC,EAASC,GAAV,OAC1BnB,IAAMQ,IAAN,iBAAoBU,GAAWC,IAE3BC,EAAsB,SAACF,GAAD,OAAalB,IAAMS,OAAN,iBAAuBS,KAE1DG,EAAuB,SAACH,GAAD,OAAalB,IAAMG,IAAN,iBAAoBe,M,oBClE9DI,EAAOC,QAAU,CAAC,UAAY,2CAA2C,SAAW,0CAA0C,gBAAkB,iDAAiD,SAAW,0CAA0C,gBAAkB,iDAAiD,oBAAsB,qDAAqD,oBAAsB,qDAAqD,oBAAsB,qDAAqD,qBAAuB,sDAAsD,wBAA0B,yDAAyD,gBAAkB,iDAAiD,mBAAqB,oDAAoD,wBAA0B,yDAAyD,gBAAkB,iDAAiD,qBAAuB,sDAAsD,2BAA6B,4DAA4D,qBAAuB,sDAAsD,2BAA6B,4DAA4D,oBAAsB,uD,oBCA9zCD,EAAOC,QAAU,CAAC,gBAAkB,0CAA0C,UAAY,oCAAoC,qBAAuB,+CAA+C,WAAa,qCAAqC,OAAS,iCAAiC,WAAa,qCAAqC,gBAAkB,0CAA0C,oBAAsB,8CAA8C,oBAAsB,8CAA8C,MAAQ,gCAAgC,oBAAsB,8CAA8C,IAAM,8BAA8B,SAAW,mCAAmC,UAAY,oCAAoC,iBAAmB,6C,4OCmPxwBC,EAxOU,WACrB,IAAMC,EAAQC,aAAY,SAACrC,GAAD,OAAWA,EAAMoC,MAAME,QAC3CC,EACK,QADLA,EAEM,SAFNA,EAGK,QAHLA,EAIQ,WAGRC,EAAU,CACZ,CAACC,MAAOF,EAAkBG,MAAOC,IAAUP,GAAOQ,OAClD,CAACH,MAAOF,EAAmBG,MAAOC,IAAUP,GAAOS,QACnD,CAACJ,MAAOF,EAAkBG,MAAOC,IAAUP,GAAOU,OAClD,CAACL,MAAOF,EAAqBG,MAAOC,IAAUP,GAAOW,WAGnDC,EAAkB,CAEpB,CAACP,MAAO,UAAWC,MAAOC,IAAUP,GAAO,kBAC3C,CAACK,MAAO,UAAWC,MAAOC,IAAUP,GAAO,kBAC3C,CAACK,MAAO,UAAWC,MAAOC,IAAUP,GAAO,mBApBpB,EAuBQa,mBAAST,EAAQ,IAvBzB,mBAuBpBzF,EAvBoB,KAuBVmG,EAvBU,OAwBcD,mBAASD,EAAgB,IAxBvC,mBAwBpBG,EAxBoB,KAwBPC,EAxBO,OAyBGH,mBAAS,IAzBZ,mBAyBpBI,EAzBoB,KAyBXC,EAzBW,OA0BCL,mBAAS,IA1BV,mBA0BpBM,EA1BoB,KA0BZC,EA1BY,OA2BCP,mBAAS,IA3BV,mBA2BpBQ,EA3BoB,KA2BZC,EA3BY,OA4BDT,mBAAS,IA5BR,mBA4BpBU,EA5BoB,KA4BbC,EA5Ba,OA6BTX,mBAAS,IA7BA,mBA6BpBY,EA7BoB,KA6BjBC,EA7BiB,OA8BTb,mBAAS,IA9BA,mBA8BpBc,EA9BoB,KA8BjBC,EA9BiB,QA+BPf,mBAAS,IA/BF,qBA+BpBgB,GA/BoB,MA+BhBC,GA/BgB,SAgCWjB,mBAAS,IAhCpB,qBAgCpBkB,GAhCoB,MAgCPC,GAhCO,SAiCuBnB,mBAAS,IAjChC,qBAiCpBoB,GAjCoB,MAiCDC,GAjCC,MAmCrB3F,GAAc0D,YAAYkC,IAAiBhG,gBAC3CpC,GAAWqI,cAEXC,GAAiBpC,YAAYkC,IAAiBhE,UAC9CnC,GAAiB,SAACX,GAAD,OACnBtB,GAASuI,IAAkBxG,YAAYT,KACrCkH,GAAiBtC,YAAYkC,IAAiBnE,aAGpDwE,qBAAU,WACNzI,GAASuI,IAAkBnG,oBAC5B,CAACpC,KAEJ,IAMM0I,GAAuB,SAACC,GAE1B,GADAA,EAAEC,UACED,EAAEE,OAAOC,QACT,OAAOX,IAAqB,SAACY,GAAD,4BAAcA,GAAd,CAAoBJ,EAAEE,OAAOvC,WAE7D6B,IAAqB,SAACY,GAAD,OAAUA,EAAKC,QAAO,SAACC,GAAD,OAAQA,IAAON,EAAEE,OAAOvC,aAIjE4C,GAAU,uCAAG,WAAOP,GAAP,eAAA7D,EAAA,sDACf6D,EAAEC,UACFD,EAAEQ,iBACI7H,EAAU,CACZ8E,WAAYxF,EAAS0F,MACrB8C,SAAU,qBACVC,OAAQf,GACRgB,KAAM,CACFC,IAAKrC,EACLsC,GAAIpC,EACJqC,GAAInC,IAGR1G,EAAS0F,QAAUF,GACnB9E,EAAQkB,YAAc0F,GACtB5G,EAAQoI,YAAc1C,EAAYV,MAClChF,EAAQkG,MAAQ,CACZE,EAAGA,EACHE,EAAGA,EACHE,GAAIA,MAGRxG,EAAQkG,MAAQ,CAACA,SACjBlG,EAAQ0G,YAAcA,IAG1B/F,GAAeX,GA1BA,2CAAH,sDA6BhB,OACI,yBAAKqI,UAAWC,IAAOC,iBACQ,IAA1BrB,GAAesB,QACZ,kBAACC,EAAA,EAAD,CACIC,QAASxD,IAAUP,GAAO,mBAC1BgE,SAAO,EACPC,SAAO,IAGf,0BAAMC,SAAUjB,GAAYS,UAAWC,IAAOQ,WAC1C,kBAAC,IAAD,CACIT,UAAWC,IAAOS,OAClB/D,MAAO1F,EACP0J,SAAUvD,EACVV,QAASA,IAEb,kBAAC,IAAD,CACIsD,UAAWC,IAAOS,OAClB/D,MAAO1F,EAAS0F,QAAUF,EAAmBY,EAAc,KAC3DsD,SAAUrD,EACVZ,QAASQ,EACT0D,WAAY3J,EAAS0F,QAAUF,IAEnC,uBAAGuD,UAAWC,IAAOY,OACjB,kBAAC,IAAD,CAAkBtJ,GAAG,kBAEzB,yBAAKyI,UAAWC,IAAOa,qBACnB,uBAAGd,UAAS,UAAKe,IAAMC,oBAAX,YAAkCf,IAAOY,QACjD,kBAAC,IAAD,CAAkBtJ,GAAG,cAEzB,2BACI0J,KAAK,OACLtE,MAAOgB,EACPgD,SAAU,SAAC3B,GAAD,OAAOpB,EAAUoB,EAAEE,OAAOvC,QACpCqD,UAAWC,IAAOiB,sBAEtB,uBAAGlB,UAAS,UAAKe,IAAMC,oBAAX,YAAkCf,IAAOY,QACjD,kBAAC,IAAD,CAAkBtJ,GAAG,cAEzB,2BACI0J,KAAK,OACLtE,MAAOc,EACPkD,SAAU,SAAC3B,GAAD,OAAOtB,EAAUsB,EAAEE,OAAOvC,QACpCqD,UAAWC,IAAOiB,sBAEtB,uBAAGlB,UAAS,UAAKe,IAAMC,oBAAX,YAAkCf,IAAOY,QACjD,kBAAC,IAAD,CAAkBtJ,GAAG,cAEzB,2BACI0J,KAAK,OACLtE,MAAOY,EACPoD,SAAU,SAAC3B,GAAD,OAAOxB,EAAWwB,EAAEE,OAAOvC,QACrCqD,UAAWC,IAAOiB,uBAG1B,uBAAGlB,UAAWC,IAAOY,OACjB,kBAAC,IAAD,CAAkBtJ,GAAG,mBAExBN,EAAS0F,QAAUF,EAChB,yBAAKuD,UAAWC,IAAOa,qBACnB,uBAAGd,UAAS,UAAKe,IAAMC,oBAAX,YAAkCf,IAAOY,QAArD,KACA,2BACII,KAAK,OACLtE,MAAOoB,EACP4C,SAAU,SAAC3B,GAAD,OAAOhB,EAAKgB,EAAEE,OAAOvC,QAC/BqD,UAAWC,IAAOiB,sBAItB,uBAAGlB,UAAS,UAAKe,IAAMC,oBAAX,YAAkCf,IAAOY,QAArD,KAEA,2BACII,KAAK,OACLtE,MAAOsB,EACP0C,SAAU,SAAC3B,GAAD,OAAOd,EAAKc,EAAEE,OAAOvC,QAC/BqD,UAAWC,IAAOiB,sBAGtB,uBAAGlB,UAAS,UAAKe,IAAMC,oBAAX,YAAkCf,IAAOY,QAArD,MAEA,2BACII,KAAK,OACLtE,MAAOwB,GACPwC,SAAU,SAAC3B,GAAD,OAAOZ,GAAMY,EAAEE,OAAOvC,QAChCqD,UAAWC,IAAOiB,uBAI1B,yBAAKlB,UAAWC,IAAOa,qBACnB,uBAAGd,UAAS,UAAKe,IAAMC,oBAAX,YAAkCf,IAAOY,QACjD,kBAAC,IAAD,CAAkBtJ,GAAG,mBAEzB,2BACI0J,KAAK,OACLtE,MAAOkB,EACP8C,SAAU,SAAC3B,GAAD,OAAOlB,EAASkB,EAAEE,OAAOvC,QACnCqD,UAAWC,IAAOiB,uBAK7BjK,EAAS0F,QAAUF,GAAoB,2BAAOuD,UAAWC,IAAOkB,YAC7D,wBAAInB,UAAWC,IAAOY,OAClB,kBAAC,IAAD,CAAkBtJ,GAAG,yBAEzB,2BACI0J,KAAK,OACLtE,MAAO0B,GACPsC,SAAU,SAAC3B,GAAD,OAAOV,GAAeU,EAAEE,OAAOvC,QACzCqD,UAAWC,IAAOmB,oBAI1B,2BAAOpB,UAAS,UAAKC,IAAOkB,WAAZ,YAA0BlB,IAAOoB,MAC7C,wBAAIrB,UAAWC,IAAOY,OAClB,kBAAC,IAAD,CAAkBtJ,GAAG,WAEzB,2BAAO0J,KAAK,OAAO1J,GAAG,QAAQoJ,SAjK5B,SAAC3B,GAXD,IAAClH,EAYfkH,EAAEC,UACFD,EAAEQ,iBAba1H,EAcLkH,EAAEE,OAAOoC,MAAM,GAdDjL,GAASuI,IAAkB/G,SAASC,KA4KGkI,UAAWC,IAAOsB,YAEzE,yBAAKvB,UAAWC,IAAOuB,sBAClBvK,EAAS0F,QAAUF,GACpB5D,GAAY4I,KAAI,SAACC,GAAD,OACZ,2BAAOC,IAAKD,EAAEE,IAAK5B,UAAWC,IAAOrG,YACjC,uBAAGoG,UAAWC,IAAO4B,WAAYH,EAAE/B,KAAKrD,IACxC,2BACIwF,QAAS/C,GACTkC,KAAK,WACL1J,GAAImK,EAAEE,IACNjF,MAAO+E,EAAEE,WAKzB,4BAAQX,KAAK,SAASjB,UAAS,UAAKC,IAAOoB,IAAZ,YAAmBpB,IAAOY,QACrD,kBAAC,IAAD,CAAkBtJ,GAAG","file":"static/js/18.4fd9e588.chunk.js","sourcesContent":["import productActions from \"./productActions\";\r\nimport {\r\n  getAllIngredients,\r\n  postNewProduct,\r\n  postImage,\r\n  getAllProducts,\r\n  getProductsByCategory,\r\n  getProductById,\r\n  updateProductById,\r\n  deleteProductById,\r\n  createNewIngredients,\r\n} from \"../../services/api\";\r\n\r\nconst fetchProducts = () => (dispatch) => {\r\n  dispatch(productActions.productsRequest());\r\n\r\n  getAllProducts()\r\n    .then(({ data }) => dispatch(productActions.productsSuccess(data.products)))\r\n    .catch((error) => dispatch(productActions.productsError(error)));\r\n};\r\n\r\nconst fetchProductsByCategory = (category) => (dispatch) => {\r\n  dispatch(productActions.byCategoryRequest());\r\n\r\n  getProductsByCategory(category)\r\n    .then(({ data }) =>\r\n      dispatch(productActions.byCategorySuccess(data.products))\r\n    )\r\n    .catch((error) => dispatch(productActions.byCategoryError(error)));\r\n};\r\n\r\nconst fetchProductById = (id) => (dispatch) => {\r\n  dispatch(productActions.byIdRequest());\r\n\r\n  getProductById(id)\r\n    .then(({ data }) => dispatch(productActions.byIdSuccess(data.product)))\r\n    .catch((error) => dispatch(productActions.byIdError(error)));\r\n};\r\n\r\n//for AdminPage\r\nconst sendFile = (file) => (dispatch) => {\r\n  dispatch(productActions.sendFileRequest());\r\n\r\n  postImage(file)\r\n    .then(({ data }) =>\r\n      dispatch(productActions.sendFileSuccess(data.image.file))\r\n    )\r\n    .catch((error) => dispatch(productActions.sendFileError(error)));\r\n};\r\n\r\nconst sendProduct = (product) => (dispatch) => {\r\n  dispatch(productActions.sendProductRequest());\r\n\r\n  postNewProduct(product)\r\n    .then(({ data }) =>\r\n      dispatch(productActions.sendProductSuccess(data.product))\r\n    )\r\n    //проверить что приходит в data\r\n    .catch((error) => dispatch(productActions.sendProductError(error)));\r\n};\r\n\r\nconst getIngredients = () => (dispatch) => {\r\n  dispatch(productActions.getAllIngredientsRequest());\r\n\r\n  getAllIngredients()\r\n    .then(({ data }) =>\r\n      dispatch(productActions.getAllIngredientsSuccess(data.ingredients))\r\n    )\r\n    .catch((error) => dispatch(productActions.getAllIngredientsError(error)));\r\n};\r\nconst createNewIngredient = (ingredient) => (dispatch) => {\r\n  dispatch(productActions.createNewIngredientsRequest());\r\n\r\n  createNewIngredients(ingredient)\r\n    .then(() => dispatch(productActions.createNewIngredientsSuccess()))\r\n    .catch((error) =>\r\n      dispatch(productActions.createNewIngredientsError(error))\r\n    );\r\n};\r\n\r\nconst updateProduct = (productId, newProduct) => (dispatch) => {\r\n  dispatch(productActions.updateProductRequest());\r\n\r\n  updateProductById(productId, newProduct)\r\n    .then(({ data }) => dispatch(productActions.updateProductSuccess(data)))\r\n    .catch((error) => dispatch(productActions.updateProductError(error)));\r\n};\r\n\r\nconst deleteProduct = (productId) => (dispatch) => {\r\n  dispatch(productActions.deleteProductRequest());\r\n\r\n  deleteProductById(productId)\r\n    .then(\r\n      ({ data }) => dispatch(productActions.deleteProductSuccess(data))\r\n      //проверить что приходит в data\r\n    )\r\n    .catch((error) => dispatch(productActions.deleteProductError(error)));\r\n};\r\n\r\nexport default {\r\n  fetchProducts,\r\n  fetchProductsByCategory,\r\n  fetchProductById,\r\n\r\n  sendFile,\r\n  sendProduct,\r\n  getIngredients,\r\n  updateProduct,\r\n  deleteProduct,\r\n  createNewIngredient,\r\n};\r\n","const getLoading = (state) => state.products.loading;\r\n\r\nconst getError = (state) => state.products.errorReducer;\r\n\r\nconst getProducts = (state) => state.products.items;\r\n\r\nconst getFileLink = (state) => state.products.fileLink;\r\n\r\nconst getIngredients = (state) => state.products.ingredients;\r\n\r\nconst createNewIngredient = (state) => state.products.newIngredient;\r\n\r\nconst fileLink = (state) => state.products.fileLink;\r\n\r\nconst addIngredient = (state) => state.products.ingredient;\r\n\r\nexport default {\r\n  getLoading,\r\n  getError,\r\n  getProducts,\r\n  getFileLink,\r\n  getIngredients,\r\n  createNewIngredient,\r\n  fileLink,\r\n  addIngredient,\r\n};\r\n","import axios from \"axios\";\r\nconst CancelToken = axios.CancelToken;\r\nconst source = CancelToken.source();\r\n\r\nconst baseURL = \"https://evening-caverns-34846.herokuapp.com\";\r\n\r\n//for Products\r\nconst getAllProducts = () => {\r\n  return axios.get(\"/products\");\r\n};\r\n\r\nconst getProductsByCategory = (category) => {\r\n  return axios.get(`/products/?category=\"${category}\"`, {\r\n    cancelToken: source.token,\r\n  });\r\n};\r\n\r\nconst getProductById = (id) => {\r\n  return axios.get(`/products/${id}`);\r\n};\r\n\r\nconst getAllIngredients = async () => {\r\n  return axios.get(`${baseURL}/ingredients`);\r\n};\r\nconst createNewIngredients = async (ingredients) => {\r\n  return axios.post(`${baseURL}/ingredients`, ingredients);\r\n};\r\n\r\nconst postNewProduct = (product) => {\r\n  return axios.post(`${baseURL}/products`, product);\r\n};\r\n\r\nconst updateProductById = (productId, newProduct) => {\r\n  return axios.put(`/products/${productId}`, newProduct);\r\n};\r\n\r\nconst deleteProductById = (productId) => {\r\n  return axios.delete(`/products/${productId}`);\r\n};\r\n\r\n//for Orders\r\n\r\n// other\r\nconst postImage = async (file) => {\r\n  const data = new FormData();\r\n  data.append(\"file\", file);\r\n\r\n  return axios.post(`${baseURL}/images`, data);\r\n};\r\n\r\n// developers\r\n\r\nconst fetchDevs = () => axios.get(\"/developers\");\r\n\r\n// Stocks\r\n\r\nconst fetchAllStocks = () => axios.get(\"/promo\");\r\n\r\nconst sendUserFile = (file) => axios.post(\"/images\", file);\r\n\r\nconst sendNewStock = (stock) => axios.post(\"/promo\", stock);\r\n\r\nconst updateExistingStock = (stockId, newStock) =>\r\n  axios.put(`/promo/${stockId}`, newStock);\r\n\r\nconst deleteExistingStock = (stockId) => axios.delete(`/promo/${stockId}`);\r\n\r\nconst getExistingStockById = (stockId) => axios.get(`/promo/${stockId}`);\r\n\r\nexport {\r\n  fetchDevs,\r\n  getAllIngredients,\r\n  createNewIngredients,\r\n  postNewProduct,\r\n  postImage,\r\n  getAllProducts,\r\n  getProductsByCategory,\r\n  getProductById,\r\n  updateProductById,\r\n  deleteProductById,\r\n  fetchAllStocks,\r\n  sendUserFile,\r\n  sendNewStock,\r\n  updateExistingStock,\r\n  deleteExistingStock,\r\n  getExistingStockById,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"adminUpdateListItemEdit_container__1UZEx\",\"editCard\":\"adminUpdateListItemEdit_editCard__3wMLf\",\"editCard__image\":\"adminUpdateListItemEdit_editCard__image__1S-TF\",\"editForm\":\"adminUpdateListItemEdit_editForm__2N10V\",\"editCard__title\":\"adminUpdateListItemEdit_editCard__title__2IwRu\",\"editCard__titleName\":\"adminUpdateListItemEdit_editCard__titleName__18hZa\",\"editCard__titleLang\":\"adminUpdateListItemEdit_editCard__titleLang__1n8uS\",\"editForm__inputLang\":\"adminUpdateListItemEdit_editForm__inputLang__1GqpP\",\"editCard__photoLabel\":\"adminUpdateListItemEdit_editCard__photoLabel__1r1BC\",\"editForm__newIngredient\":\"adminUpdateListItemEdit_editForm__newIngredient__2ysnq\",\"editForm__photo\":\"adminUpdateListItemEdit_editForm__photo__3681v\",\"editForm__photoBtn\":\"adminUpdateListItemEdit_editForm__photoBtn__17eVj\",\"editForm__inputCategory\":\"adminUpdateListItemEdit_editForm__inputCategory__Q5FO7\",\"editForm__price\":\"adminUpdateListItemEdit_editForm__price__1lh-2\",\"editForm__priceInput\":\"adminUpdateListItemEdit_editForm__priceInput__1JbGK\",\"editForm__inputSinglePrice\":\"adminUpdateListItemEdit_editForm__inputSinglePrice__hQZDx\",\"editForm__priceTitle\":\"adminUpdateListItemEdit_editForm__priceTitle__-cift\",\"editForm__inputDescription\":\"adminUpdateListItemEdit_editForm__inputDescription__1DXGD\",\"editForm__btnSubmit\":\"adminUpdateListItemEdit_editForm__btnSubmit__iNCCw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createContainer\":\"CreateNewProduct_createContainer__QLD-v\",\"applyForm\":\"CreateNewProduct_applyForm__N7yWR\",\"ingredientsContainer\":\"CreateNewProduct_ingredientsContainer__9g0mv\",\"ingredient\":\"CreateNewProduct_ingredient__2JCkI\",\"select\":\"CreateNewProduct_select__1CPbU\",\"inputLabel\":\"CreateNewProduct_inputLabel__1UtZe\",\"editCard__title\":\"CreateNewProduct_editCard__title__1unn4\",\"editCard__titleName\":\"CreateNewProduct_editCard__titleName__2MMbd\",\"editCard__titleLang\":\"CreateNewProduct_editCard__titleLang__1mE74\",\"title\":\"CreateNewProduct_title__1Y9O1\",\"editForm__inputLang\":\"CreateNewProduct_editForm__inputLang__8yJas\",\"btn\":\"CreateNewProduct_btn__RwOxW\",\"inputImg\":\"CreateNewProduct_inputImg__1LqFh\",\"chooseVar\":\"CreateNewProduct_chooseVar__JdsX5\",\"descriptionInput\":\"CreateNewProduct_descriptionInput__36YoH\"};","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport styles from \"./CreateNewProduct.module.css\";\r\nimport Select from \"react-select\";\r\nimport productSelectors from \"../../redux/product/productSelectors\";\r\nimport productOperations from \"../../redux/product/productOperations\";\r\nimport Notification from \"../Notification\";\r\nimport {FormattedMessage} from \"react-intl\";\r\n\r\nimport languages from \"../../languages\";\r\nimport style from \"../AdminUpdateListItemEdit/adminUpdateListItemEdit.module.css\";\r\n\r\nconst CreateNewProduct = () => {\r\n    const local = useSelector((state) => state.local.lang);\r\n    const categories = {\r\n        pizza: \"pizza\",\r\n        drinks: \"drinks\",\r\n        sides: \"sides\",\r\n        desserts: \"desserts\",\r\n    };\r\n\r\n    const options = [\r\n        {value: categories.pizza, label: languages[local].pizza},\r\n        {value: categories.drinks, label: languages[local].drinks},\r\n        {value: categories.sides, label: languages[local].sides},\r\n        {value: categories.desserts, label: languages[local].desserts},\r\n    ];\r\n\r\n    const pizzaCategories = [\r\n        // {value: \"bestPrice\", label: \"Best price\"},\r\n        {value: \"classic\", label: languages[local][\"pizza.classic\"]},\r\n        {value: \"branded\", label: languages[local][\"pizza.special\"]},\r\n        {value: \"premium\", label: languages[local][\"pizza.premium\"]},\r\n    ];\r\n\r\n    const [category, changeCategory] = useState(options[0]);\r\n    const [subCategory, changeSubCategory] = useState(pizzaCategories[0]);\r\n    const [ukrName, setUkrName] = useState(\"\");\r\n    const [enName, setEnName] = useState(\"\");\r\n    const [ruName, setRuName] = useState(\"\");\r\n    const [price, setPrice] = useState(\"\");\r\n    const [M, setM] = useState(\"\");\r\n    const [L, setL] = useState(\"\");\r\n    const [XL, setXL] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [activeIngredients, setActiveIngredients] = useState([]);\r\n\r\n    const ingredients = useSelector(productSelectors.getIngredients);\r\n    const dispatch = useDispatch();\r\n    const postImage = (file) => dispatch(productOperations.sendFile(file));\r\n    const hrefProductImd = useSelector(productSelectors.fileLink);\r\n    const postNewProduct = (product) =>\r\n        dispatch(productOperations.sendProduct(product));\r\n    const createdProduct = useSelector(productSelectors.getProducts);\r\n    //   console.log(\"hrefProductImd:\", hrefProductImd);\r\n\r\n    useEffect(() => {\r\n        dispatch(productOperations.getIngredients());\r\n    }, [dispatch]);\r\n\r\n    const handleImg = (e) => {\r\n        e.persist();\r\n        e.preventDefault();\r\n        postImage(e.target.files[0]);\r\n    };\r\n\r\n    const handleCheckboxChange = (e) => {\r\n        e.persist();\r\n        if (e.target.checked) {\r\n            return setActiveIngredients((prev) => [...prev, e.target.value]);\r\n        }\r\n        setActiveIngredients((prev) => prev.filter((el) => el !== e.target.value));\r\n    };\r\n\r\n\r\n    const submitForm = async (e) => {\r\n        e.persist();\r\n        e.preventDefault();\r\n        const product = {\r\n            categories: category.value,\r\n            currency: \"грн\",\r\n            images: hrefProductImd,\r\n            name: {\r\n                ukr: ukrName,\r\n                en: enName,\r\n                ru: ruName,\r\n            },\r\n        };\r\n        if (category.value === categories.pizza) {\r\n            product.ingredients = activeIngredients;\r\n            product.subcategory = subCategory.value;\r\n            product.price = {\r\n                M: M,\r\n                L: L,\r\n                XL: XL,\r\n            };\r\n        } else {\r\n            product.price = {price};\r\n            product.description = description;\r\n\r\n        }\r\n        postNewProduct(product);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.createContainer}>\r\n            {createdProduct.length === 1 && (\r\n                <Notification\r\n                    message={languages[local][\"product.created\"]}\r\n                    confirm\r\n                    forCard\r\n                />\r\n            )}\r\n            <form onSubmit={submitForm} className={styles.applyForm}>\r\n                <Select\r\n                    className={styles.select}\r\n                    value={category}\r\n                    onChange={changeCategory}\r\n                    options={options}\r\n                />\r\n                <Select\r\n                    className={styles.select}\r\n                    value={category.value === categories.pizza ? subCategory : null}\r\n                    onChange={changeSubCategory}\r\n                    options={pizzaCategories}\r\n                    isDisabled={category.value !== categories.pizza}\r\n                />\r\n                <p className={styles.title}>\r\n                    <FormattedMessage id=\"product.name\"/>\r\n                </p>\r\n                <div className={styles.editCard__titleName}>\r\n                    <p className={`${style.editCard__titleLang} ${styles.title}`}>\r\n                        <FormattedMessage id=\"rus name\"/>\r\n                    </p>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={ruName}\r\n                        onChange={(e) => setRuName(e.target.value)}\r\n                        className={styles.editForm__inputLang}\r\n                    />\r\n                    <p className={`${style.editCard__titleLang} ${styles.title}`}>\r\n                        <FormattedMessage id=\"eng name\"/>\r\n                    </p>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={enName}\r\n                        onChange={(e) => setEnName(e.target.value)}\r\n                        className={styles.editForm__inputLang}\r\n                    />\r\n                    <p className={`${style.editCard__titleLang} ${styles.title}`}>\r\n                        <FormattedMessage id=\"ukr name\"/>\r\n                    </p>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={ukrName}\r\n                        onChange={(e) => setUkrName(e.target.value)}\r\n                        className={styles.editForm__inputLang}\r\n                    />\r\n                </div>\r\n                <p className={styles.title}>\r\n                    <FormattedMessage id=\"product.price\"/>\r\n                </p>\r\n                {category.value === categories.pizza ? (\r\n                    <div className={styles.editCard__titleName}>\r\n                        <p className={`${style.editCard__titleLang} ${styles.title}`}>M</p>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={M}\r\n                            onChange={(e) => setM(e.target.value)}\r\n                            className={styles.editForm__inputLang}\r\n\r\n                        />\r\n\r\n                        <p className={`${style.editCard__titleLang} ${styles.title}`}>L</p>\r\n\r\n                        <input\r\n                            type=\"text\"\r\n                            value={L}\r\n                            onChange={(e) => setL(e.target.value)}\r\n                            className={styles.editForm__inputLang}\r\n                        />\r\n\r\n                        <p className={`${style.editCard__titleLang} ${styles.title}`}>XL</p>\r\n\r\n                        <input\r\n                            type=\"text\"\r\n                            value={XL}\r\n                            onChange={(e) => setXL(e.target.value)}\r\n                            className={styles.editForm__inputLang}\r\n                        />\r\n                    </div>\r\n                ) : (\r\n                    <div className={styles.editCard__titleName}>\r\n                        <p className={`${style.editCard__titleLang} ${styles.title}`}>\r\n                            <FormattedMessage id=\"product.price\"/>\r\n                        </p>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={price}\r\n                            onChange={(e) => setPrice(e.target.value)}\r\n                            className={styles.editForm__inputLang}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {category.value !== categories.pizza && <label className={styles.inputLabel}>\r\n                    <h4 className={styles.title}>\r\n                        <FormattedMessage id=\"product.description\"/>\r\n                    </h4>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={description}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        className={styles.descriptionInput}\r\n                    />\r\n                </label>}\r\n\r\n                <label className={`${styles.inputLabel} ${styles.btn}`}>\r\n                    <h4 className={styles.title}>\r\n                        <FormattedMessage id=\"photo\"/>\r\n                    </h4>\r\n                    <input type=\"file\" id=\"image\" onChange={handleImg} className={styles.inputImg}/>\r\n                </label>\r\n                <div className={styles.ingredientsContainer}>\r\n                    {category.value === categories.pizza &&\r\n                    ingredients.map((i) => (\r\n                        <label key={i._id} className={styles.ingredient}>\r\n                            <p className={styles.chooseVar}>{i.name[local]}</p>\r\n                            <input\r\n                                onClick={handleCheckboxChange}\r\n                                type=\"checkbox\"\r\n                                id={i._id}\r\n                                value={i._id}\r\n                            />\r\n                        </label>\r\n                    ))}\r\n                </div>\r\n                <button type=\"Submit\" className={`${styles.btn} ${styles.title}`}>\r\n                    <FormattedMessage id=\"send\"/>\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\nexport default CreateNewProduct;\r\n"],"sourceRoot":""}