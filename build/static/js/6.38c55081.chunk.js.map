{"version":3,"sources":["redux/product/productOperations.js","redux/product/productSelectors.js","services/api.js","redux/product/index.js","components/DrinkListItem/drinkListItem.module.css","components/DrinkList/drinkList.module.css","components/DrinkListItem/DrinkListItem.js","components/DrinkList/DrinkList.js"],"names":["fetchProducts","dispatch","productActions","productsRequest","getAllProducts","then","data","productsSuccess","products","catch","error","productsError","fetchProductsByCategory","category","byCategoryRequest","getProductsByCategory","byCategorySuccess","byCategoryError","fetchProductById","id","byIdRequest","getProductById","byIdSuccess","product","byIdErrror","sendFile","file","sendFileRequest","postImage","sendFileSuccess","image","sendFileError","sendProduct","sendProductRequest","postNewProduct","sendProductSuccess","sendProductError","getIngredients","getAllIngradientsRequest","getAllIngredients","getAllIngradientsSuccess","ingredients","getAllIngradientsError","updateProduct","productId","newProduct","updateProductRequest","updateProductById","res","updateProductSuccess","updateProductError","deleteProduct","deleteProductRequest","deleteProductById","deleteProductSuccess","deleteProductError","saveExistProdImg","link","saveExistedImg","getLoading","state","loading","getError","errorReducer","getProducts","items","getFileLink","fileLink","getIngradients","ingradients","source","axios","CancelToken","baseURL","get","cancelToken","token","a","post","put","delete","FormData","append","fetchDevs","fetchAllStocks","sendUserFile","sendNewStock","stock","updateExistingStock","stockId","newStock","deleteExistingStock","getExistingStockById","module","exports","DrinkListItem","props","name","description","price","images","local","useSelector","lang","useDispatch","successMessage","values","errorMessage","useState","isAddedProdToOrder","setIsAddedProdToOrder","message","setMessage","addProd","setTimeout","orderOperations","addProdToOrderList","className","styles","menuItem","Notification","confirm","forCard","menuItem_imageBlock","src","alt","menuItem_img","menuItem_content","menuItem_headline","menuItem_size","menuItem_wrapper","menuItem_price","currency","button","type","onClick","DrinkList","this","onFetchProductDrinks","err","console","log","cancel","containerList","title","menu","map","key","_id","Component","mapDispatchToProps","productOperations","connect","productSelectors"],"mappings":"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","file":"static/js/6.38c55081.chunk.js","sourcesContent":["import productActions from \"./productActions\";\r\nimport {\r\n  getAllIngredients,\r\n  postNewProduct,\r\n  postImage,\r\n  getAllProducts,\r\n  getProductsByCategory,\r\n  getProductById,\r\n  updateProductById,\r\n  deleteProductById,\r\n} from \"../../services/api\";\r\n\r\nconst fetchProducts = () => (dispatch) => {\r\n  dispatch(productActions.productsRequest());\r\n\r\n  getAllProducts()\r\n    .then(({ data }) => dispatch(productActions.productsSuccess(data.products)))\r\n    .catch((error) => dispatch(productActions.productsError(error)));\r\n};\r\n\r\nconst fetchProductsByCategory = (category) => (dispatch) => {\r\n  dispatch(productActions.byCategoryRequest());\r\n\r\n  getProductsByCategory(category)\r\n    .then(({ data }) =>\r\n      dispatch(productActions.byCategorySuccess(data.products))\r\n    )\r\n    .catch((error) => dispatch(productActions.byCategoryError(error)));\r\n};\r\n\r\nconst fetchProductById = (id) => (dispatch) => {\r\n  dispatch(productActions.byIdRequest());\r\n\r\n  getProductById(id)\r\n    .then(({ data }) => dispatch(productActions.byIdSuccess(data.product)))\r\n    .catch((error) => dispatch(productActions.byIdErrror(error)));\r\n};\r\n\r\n//for AdminPage\r\nconst sendFile = (file) => (dispatch) => {\r\n  dispatch(productActions.sendFileRequest());\r\n  // console.log(file);\r\n\r\n  postImage(file)\r\n    .then(({ data }) =>\r\n      dispatch(productActions.sendFileSuccess(data.image.file))\r\n    )\r\n    .catch((error) => dispatch(productActions.sendFileError(error)));\r\n};\r\n\r\nconst sendProduct = (product) => (dispatch) => {\r\n  dispatch(productActions.sendProductRequest());\r\n\r\n  postNewProduct(product)\r\n    .then(({ data }) =>\r\n      dispatch(productActions.sendProductSuccess(data.product))\r\n    )\r\n    //проверить что приходит в data\r\n    .catch((error) => dispatch(productActions.sendProductError(error)));\r\n};\r\n\r\nconst getIngredients = () => (dispatch) => {\r\n  dispatch(productActions.getAllIngradientsRequest());\r\n\r\n  getAllIngredients()\r\n    .then(({ data }) =>\r\n      dispatch(productActions.getAllIngradientsSuccess(data.ingredients))\r\n    )\r\n    .catch((error) => dispatch(productActions.getAllIngradientsError(error)));\r\n};\r\n\r\nconst updateProduct = (productId, newProduct) => (dispatch) => {\r\n  dispatch(productActions.updateProductRequest());\r\n\r\n  updateProductById(productId, newProduct)\r\n    .then((res) => dispatch(productActions.updateProductSuccess(res)))\r\n    .catch((error) => dispatch(productActions.updateProductError(error)));\r\n};\r\n\r\nconst deleteProduct = (productId) => (dispatch) => {\r\n  dispatch(productActions.deleteProductRequest());\r\n\r\n  deleteProductById(productId)\r\n    .then(\r\n      ({ data }) => dispatch(productActions.deleteProductSuccess(data))\r\n      //проверить что приходит в data\r\n    )\r\n    .catch((error) => dispatch(productActions.deleteProductError(error)));\r\n};\r\n\r\nconst saveExistProdImg = (link) => (dispatch) => {\r\n  dispatch(productActions.saveExistedImg(link));\r\n};\r\n\r\nexport default {\r\n  fetchProducts,\r\n  fetchProductsByCategory,\r\n  fetchProductById,\r\n\r\n  sendFile,\r\n  sendProduct,\r\n  getIngredients,\r\n  updateProduct,\r\n  deleteProduct,\r\n\r\n  saveExistProdImg,\r\n};\r\n","const getLoading = (state) => state.products.loading;\r\n\r\nconst getError = (state) => state.products.errorReducer;\r\n\r\nconst getProducts = (state) => state.products.items;\r\n\r\nconst getFileLink = (state) => state.products.fileLink;\r\n\r\nconst getIngradients = (state) => state.products.ingradients;\r\n\r\nconst fileLink = (state) => state.products.fileLink;\r\n\r\nexport default {\r\n  getLoading,\r\n  getError,\r\n  getProducts,\r\n  getFileLink,\r\n  getIngradients,\r\n  fileLink,\r\n};\r\n","\r\nimport axios from \"axios\";\r\nconst CancelToken = axios.CancelToken;\r\nconst source = CancelToken.source();\r\n\r\nconst baseURL = 'https://evening-caverns-34846.herokuapp.com';\r\n\r\n//for Products\r\nconst getAllProducts = () => {\r\n  return axios.get('/products');\r\n};\r\n\r\nconst getProductsByCategory = (category) => {\r\n  return axios.get(`/products/?category=\"${category}\"`, {\r\n    cancelToken: source.token,\r\n  });\r\n};\r\n\r\nconst getProductById = (id) => {\r\n  return axios.get(`/products/${id}`);\r\n};\r\n\r\nconst getAllIngredients = async () => {\r\n  return axios.get(`${baseURL}/ingredients`);\r\n};\r\n\r\nconst postNewProduct = (product) => {\r\n  return axios.post(`${baseURL}/products`, product);\r\n};\r\n\r\nconst updateProductById = (productId, newProduct) => {\r\n  return axios.put(`/products/${productId}`, newProduct);\r\n};\r\n\r\nconst deleteProductById = (productId) => {\r\n  return axios.delete(`/products/${productId}`);\r\n};\r\n\r\n//for Orders\r\n\r\n// other\r\nconst postImage = async (file) => {\r\n  const data = new FormData();\r\n  data.append('file', file);\r\n\r\n  return axios.post(`${baseURL}/images`, data);\r\n};\r\n\r\n// developers\r\n\r\nconst fetchDevs = () => axios.get('/developers');\r\n\r\n// Stocks\r\n\r\nconst fetchAllStocks = () => axios.get('/promo');\r\n\r\nconst sendUserFile = (file) => axios.post('/images', file);\r\n\r\nconst sendNewStock = (stock) => axios.post('/promo', stock);\r\n\r\nconst updateExistingStock = (stockId, newStock) =>\r\n  axios.put(`/promo/${stockId}`, newStock);\r\n\r\nconst deleteExistingStock = (stockId) => axios.delete(`/promo/${stockId}`);\r\n\r\nconst getExistingStockById = (stockId) => axios.get(`/promo/${stockId}`);\r\n\r\nexport {\r\n  fetchDevs,\r\n  getAllIngredients,\r\n  postNewProduct,\r\n  postImage,\r\n  getAllProducts,\r\n  getProductsByCategory,\r\n  getProductById,\r\n  updateProductById,\r\n  deleteProductById,\r\n  fetchAllStocks,\r\n  sendUserFile,\r\n  sendNewStock,\r\n  updateExistingStock,\r\n  deleteExistingStock,\r\n  getExistingStockById,\r\n};\r\n","export { default as productActions } from \"./productActions\";\r\nexport { default as productOperations } from \"./productOperations\";\r\nexport { default as productSelectors } from \"./productSelectors\";\r\nexport { default as productReducer } from \"./productReducer\";\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colors\":\"\\\"../../stylesheet/vars.css\\\"\",\"accentColor\":\"#FF6C00\",\"primaryColor\":\"#272727\",\"secondaryBackgroundColor\":\"rgba(39, 39, 39, 0.2)\",\"lightColor\":\"#FFF\",\"primaryBackgroundColor\":\"rgba(39, 39, 39, 0.8)\",\"menuItem\":\"drinkListItem_menuItem__2SLFd\",\"menuItem_imageBlock\":\"drinkListItem_menuItem_imageBlock__36u3Z\",\"menuItem_img\":\"drinkListItem_menuItem_img__10UE0\",\"menuItem_content\":\"drinkListItem_menuItem_content__QgfFi\",\"menuItem_headline\":\"drinkListItem_menuItem_headline__18h0n\",\"menuItem_size\":\"drinkListItem_menuItem_size__LTygZ\",\"menuItem_wrapper\":\"drinkListItem_menuItem_wrapper__3BBI_\",\"currency\":\"drinkListItem_currency__1vYUG\",\"menuItem_price\":\"drinkListItem_menuItem_price__1NDE4\",\"button\":\"drinkListItem_button__27NUC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colors\":\"\\\"../../stylesheet/vars.css\\\"\",\"primaryColor\":\"#272727\",\"containerList\":\"drinkList_containerList__2ENKW\",\"menu\":\"drinkList_menu__2t04p\",\"title\":\"drinkList_title__H8OkR\"};","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport Notification from \"../Notification\";\r\n\r\nimport { orderOperations } from \"../../redux/order\";\r\nimport styles from \"./drinkListItem.module.css\";\r\n\r\nconst DrinkListItem = (props) => {\r\n  const { name, description, price, images } = props;\r\n\r\n  const local = useSelector((state) => state.local.lang);\r\n\r\n  const dispatch = useDispatch();\r\n  const onAddProductToOrder = () =>\r\n    dispatch(orderOperations.addProdToOrderList(props));\r\n\r\n  const successMessage = (\r\n    <FormattedMessage\r\n      id=\"order.success\"\r\n      values={{\r\n        name: name[local],\r\n      }}\r\n    />\r\n  );\r\n\r\n  const errorMessage = (\r\n    <FormattedMessage\r\n      id=\"order.error\"\r\n      values={{\r\n        name: name[local],\r\n      }}\r\n    />\r\n  );\r\n\r\n  const [isAddedProdToOrder, setIsAddedProdToOrder] = useState(false);\r\n  const [message, setMessage] = useState(successMessage);\r\n\r\n  const addProd = async () => {\r\n    if (isAddedProdToOrder) {\r\n      setIsAddedProdToOrder(false);\r\n      setMessage(errorMessage);\r\n      return await setTimeout(() => setIsAddedProdToOrder(true), 10);\r\n    }\r\n    onAddProductToOrder(props);\r\n    setIsAddedProdToOrder(true);\r\n  };\r\n\r\n  return (\r\n    <li className={styles.menuItem}>\r\n      {isAddedProdToOrder && <Notification message={message} confirm forCard />}\r\n      <div className={styles.menuItem_imageBlock}>\r\n        <img src={images} alt={name[local]} className={styles.menuItem_img} />\r\n      </div>\r\n      <div className={styles.menuItem_content}>\r\n        <h2 className={styles.menuItem_headline}>{name[local]}</h2>\r\n        <p className={styles.menuItem_size}>\r\n          <FormattedMessage id=\"volume\" /> {description}\r\n        </p>\r\n        <div className={styles.menuItem_wrapper}>\r\n          <p className={styles.menuItem_price}>\r\n            {`${price.price}.00`}\r\n            <span className={styles.currency}>\r\n              <FormattedMessage id=\"grn\" />\r\n            </span>\r\n          </p>\r\n          <button\r\n            className={styles.button}\r\n            type=\"button\"\r\n            onClick={() => addProd()}\r\n          >\r\n            <FormattedMessage id=\"orders.chart\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default DrinkListItem;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport axios from \"axios\";\r\n\r\nimport { productSelectors, productOperations } from \"../../redux/product\";\r\n\r\nimport DrinkListItem from \"../DrinkListItem/DrinkListItem\";\r\nimport styles from \"./drinkList.module.css\";\r\nconst CancelToken = axios.CancelToken;\r\nconst source = CancelToken.source();\r\n\r\nclass DrinkList extends Component {\r\n  async componentDidMount() {\r\n    try {\r\n      this.props.onFetchProductDrinks(\"drinks\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n  async componentWillUnmount() {\r\n    try {\r\n      source.cancel(\"Operation canceled\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n  render() {\r\n    const { products } = this.props;\r\n    return (\r\n      <div className={styles.containerList}>\r\n        <h2 className={styles.title}>\r\n          <FormattedMessage id=\"drinks\" />\r\n        </h2>\r\n        <ul className={styles.menu}>\r\n          {products.map((product) => (\r\n            <DrinkListItem key={product._id} {...product} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { products: productSelectors.getProducts(state) };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  onFetchProductDrinks: productOperations.fetchProductsByCategory,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DrinkList);\r\n"],"sourceRoot":""}